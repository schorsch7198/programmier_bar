/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/app.js":
/*!********************!*\
  !*** ./src/app.js ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ Application)\n/* harmony export */ });\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_navigation_bar_nav_bar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/navigation-bar/nav-bar */ \"./src/components/navigation-bar/nav-bar.js\");\n/* harmony import */ var _p_login__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./p-login */ \"./src/p-login.js\");\n/* harmony import */ var _p_main__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./p-main */ \"./src/p-main.js\");\n/* harmony import */ var _p_product_list__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./p-product-list */ \"./src/p-product-list.js\");\n/* harmony import */ var _p_product_detail__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./p-product-detail */ \"./src/p-product-detail.js\");\n/* harmony import */ var _p_categories__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./p-categories */ \"./src/p-categories.js\");\n/* harmony import */ var _p_person_detail__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./p-person-detail */ \"./src/p-person-detail.js\");\n/* harmony import */ var _p_person_list__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./p-person-list */ \"./src/p-person-list.js\");\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass Application {\r\n  #header = null;                     // Reference to <header> element\r\n  #main = null;                       // Reference to <main> element\r\n  #footer = null;                     // Reference to <footer> element\r\n  #apiUrl = 'http://localhost:5181';  // Base URL for API requests\r\n  #user = null;                       // Currently authenticated user\r\n\r\n  constructor() {\r\n    this.#header = document.querySelector('header');       // Grab header from DOM\r\n    this.#main = document.querySelector('main');           // Grab main from DOM\r\n    this.#footer = document.querySelector('footer');       // Grab footer from DOM\r\n\r\n    window.addEventListener('hashchange', () => {          // Re-run navigation on URL hash change\r\n      this.#navigate(location.hash);\r\n    });\r\n\r\n    if (document.cookie && document.cookie.startsWith('logintoken=')) {   // If login token cookie exists\r\n      this.apiGet((r) => {\r\n        this.#user = r;                                    // Set user on successful init\r\n        this.#navigate(location.hash);                     // Navigate after successful init\r\n      }, (ex) => {\r\n        console.error(ex);\r\n        this.#navigate('#login');                          // Redirect to login if init fails\r\n      }, '/page/init');\r\n    } else {\r\n      this.#navigate(location.hash);                       // Navigate immediately if no token\r\n    }\r\n  } // constructor\r\n\r\n  get user() { return this.#user; }               // Getter for user\r\n  set user(v) { this.#user = v; }                 // Setter for user\r\n  get apiUrl() { return this.#apiUrl; }            // Getter for API URL\r\n\r\n  #navigate(completeHash) {\r\n    this.#main.innerHTML = '';                     // Clear main content\r\n\r\n    // if (!this.#user) {\r\n    //   this.#header.innerHTML = '';   // Hide header if not logged in\r\n    // } else {\r\n    //   new pNavBar({ target: this.#header, app: this });   // Render navigation bar if user exists\r\n    // }\r\n\r\n    // Always render our navbar (even if args.app.user is null)\r\n    this.#header.innerHTML = '';\r\n    new _components_navigation_bar_nav_bar__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({ target: this.#header, app: this });\r\n\r\n    const args = { target: this.#main, app: this }; // Prepare args for page components\r\n\r\n    const hashParts = completeHash.split('?');      // Separate hash from query parameters\r\n    let hash = completeHash;\r\n    if (hashParts.length > 1) {\r\n      hash = hashParts[0];\r\n      const usp = new URLSearchParams(hashParts[1]);\r\n      for (const [key, value] of usp) args[key] = value;    // Add query params to args\r\n    }\r\n\r\n    switch(hash) {\r\n      case '#login':\r\n        new _p_login__WEBPACK_IMPORTED_MODULE_2__[\"default\"](args);                         // Show login page\r\n        break;\r\n      case '#productlist':\r\n        if (this.user) new _p_product_list__WEBPACK_IMPORTED_MODULE_4__[\"default\"](args);    // Show article list if logged in\r\n        else window.open('#login', '_self');         // Otherwise redirect to login\r\n        break;\r\n      case '#categories':\r\n        if (this.user) new _p_categories__WEBPACK_IMPORTED_MODULE_6__[\"default\"](args);  // Show category management if logged in\r\n        else window.open('#login', '_self');                 // Otherwise redirect\r\n        break;\r\n      case '#productdetail':\r\n        if (this.user) new _p_product_detail__WEBPACK_IMPORTED_MODULE_5__[\"default\"](args);  // Show article detail if logged in\r\n        else window.open('#login', '_self');         // Otherwise redirect\r\n        break;\r\n      case '#persondetail':\r\n        if (this.user) new _p_person_detail__WEBPACK_IMPORTED_MODULE_7__[\"default\"](args);   // Show person detail if logged in\r\n        else window.open('#login', '_self');         // Otherwise redirect\r\n        break;\r\n      case '#personlist':\r\n        if (this.user) new _p_person_list__WEBPACK_IMPORTED_MODULE_8__[\"default\"](args);     // Show person list if logged in\r\n        else window.open('#login', '_self');         // Otherwise redirect\r\n        break;\r\n      default:\r\n        new _p_main__WEBPACK_IMPORTED_MODULE_3__[\"default\"](args);                          // Default: show main (home) page\r\n        break;\r\n    }\r\n  }\r\n\r\n  //============================================================================================================================\r\n  // public methods\r\n  //============================================================================================================================\r\n  apiLogin(successCallback, errorCallback, loginData) {\r\n    fetch(this.#apiUrl + '/person/login', {\r\n      method: 'POST',\r\n      body: loginData,\r\n      cache: 'no-cache',\r\n      credentials: 'include'\r\n    }).then((r) => {\r\n      if (r.status == 200 || r.status == 401) return r.json();  // Parse JSON on 200 or 401\r\n      throw new Error(r.status + ' ' + r.statusText);\r\n    }).then(successCallback).catch(errorCallback);              // Call callbacks based on result\r\n  }\r\n\r\n  apiGet(successCallback, errorCallback, url) {\r\n    const token = localStorage.getItem('programmier_bar-token');\r\n    fetch(this.#apiUrl + url, {\r\n      method: 'GET',\r\n      cache: 'no-cache',\r\n      credentials: 'include',\r\n      headers: {\r\n        ...(token && { 'Authorization': 'Bearer ' + token })\r\n      }\r\n    }).then((r) => {\r\n      if (r.status == 200) return r.json();                     // Parse JSON only on 200\r\n      throw new Error(r.status + ' ' + r.statusText);\r\n    }).then(successCallback).catch(errorCallback);              // Call callbacks based on result\r\n  }\r\n\r\n    // POST => insert new resource; PUT => update existing resource\r\n  apiSet(successCallback, errorCallback, url, id, dataObject) {\r\n    const token = localStorage.getItem('programmier_bar-token');\r\n    fetch(this.#apiUrl + url + (id ? '/' + id : ''), {\r\n      method: id ? 'PUT' : 'POST',\r\n      cache: 'no-cache',\r\n      credentials: 'include',\r\n      body: JSON.stringify(dataObject),\r\n      headers: { 'Content-Type': 'application/json',\r\n        ...(token && { 'Authorization': 'Bearer ' + token })\r\n      }\r\n    }).then((r) => {\r\n      if (r.status == 200) return r.json();                     // Parse JSON only on 200\r\n      throw new Error(r.status + ' ' + r.statusText);\r\n    }).then(successCallback).catch(errorCallback);              // Call callbacks based on result\r\n  }\r\n\r\n  apiDelete(successCallback, errorCallback, url) {\r\n    const token = localStorage.getItem('programmier_bar-token');\r\n    fetch(this.#apiUrl + url, {\r\n      method: 'DELETE',\r\n      cache: 'no-cache',\r\n      credentials: 'include',\r\n      headers: {\r\n        ...(token && { 'Authorization': 'Bearer ' + token })\r\n      }\r\n    }).then((r) => {\r\n      if (r.status == 200) return r.json();                     // Parse JSON only on 200\r\n      throw new Error(r.status + ' ' + r.statusText);\r\n    }).then(successCallback).catch(errorCallback);              // Call callbacks based on result\r\n  }\r\n\r\n\r\n  apiFiledata(successCallback, errorCallback, product, dateiListe) {\r\n    const fd = new FormData();                              // Create FormData for files\r\n    let idx = 0;\r\n    for (const d of filedataList) {\r\n      fd.append('filedata' + (idx++), d, d.name);               // Append each file with a unique field name\r\n    }\r\n    fetch(this.#apiUrl + '/product/' + product.productUid + '/filedata', {\r\n      method: 'POST',\r\n      cache: 'no-cache',\r\n      credentials: 'include',\r\n      body: fd\r\n    }).then((r) => {\r\n      if (r.status == 200) return r.json();                   // Parse JSON only on 200\r\n      throw new Error(r.status + ' ' + r.statusText);\r\n    }).then(successCallback).catch(errorCallback);            // Call callbacks based on result\r\n  }\r\n\r\n  formatDate(d) {\r\n    const dateFormat = new Intl.DateTimeFormat(navigator.language, {\r\n      dateStyle: \"medium\",\r\n      timeStyle: \"short\",\r\n      hour12: false\r\n    });\r\n\r\n    try {\r\n      if (!d) return '-';\r\n\r\n      const parsed = d instanceof Date ? d : new Date(d);\r\n      return isNaN(parsed.getTime()) ? '-' : dateFormat.format(parsed);\r\n    } catch {\r\n      return '-';\r\n    }\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://programmier_bar.web/./src/app.js?");

/***/ }),

/***/ "./src/components/category-treeview/category-tree.html":
/*!*************************************************************!*\
  !*** ./src/components/category-treeview/category-tree.html ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"d-lg-none mb-2\">\r\n  <button class=\"btn btn-primary\" \r\n\t\t\t\t\ttype=\"button\" \r\n\t\t\t\t\tdata-bs-toggle=\"offcanvas\" \r\n\t\t\t\t\tdata-bs-target=\"#offcanvasCategory\" \r\n\t\t\t\t\taria-controls=\"offcanvasCategory\"> \r\n\t\t\t\t\tChoose Category\r\n\t\t<i class=\"bi-three-dots ms-2\"></i>\r\n  </button>\r\n</div>\r\n<div \tclass=\"d-none d-lg-block\" \r\n\t\t\tid=\"containerCategory\">\r\n</div>\r\n<div \tclass=\"offcanvas offcanvas-start\" \r\n\t\t\tdata-bs-scroll=\"true\" \r\n\t\t\tdata-bs-backdrop=\"false\" \r\n\t\t\ttabindex=\"-1\" \r\n\t\t\tid=\"offcanvasCategory\" \r\n\t\t\taria-labelledby=\"offcanvasCategoryLabel\">\r\n  <div class=\"offcanvas-header\">\r\n    <h5 class=\"offcanvas-title\" \r\n\t\t\t\tid=\"offcanvasCategoryLabel\">\r\n\t\t\t\tChoose Category</h5>\r\n    <button type=\"button\" \r\n\t\t\t\t\t\tclass=\"btn-close\" \r\n\t\t\t\t\t\tdata-bs-dismiss=\"offcanvas\" \r\n\t\t\t\t\t\taria-label=\"Close\"></button>\r\n  </div>\r\n  <div class=\"offcanvas-body\"></div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/category-treeview/category-tree.html?");

/***/ }),

/***/ "./src/components/category-treeview/category-tree.js":
/*!***********************************************************!*\
  !*** ./src/components/category-treeview/category-tree.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ categoryTree)\n/* harmony export */ });\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _category_tree_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./category-tree.html */ \"./src/components/category-treeview/category-tree.html\");\n\r\n// import 'bootstrap/dist/js/bootstrap.bundle';\r\n\r\n\r\n\r\nclass categoryTree {\r\n  //===================================================================================================================================\r\n  // private vars\r\n  #args = null;\r\n  #categoryList = null;\r\n  #selCats = null;\r\n\r\n  //===================================================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    this.#args.target.innerHTML = _category_tree_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n\r\n    //-------------------------------------------------------\r\n    const containerCategory = this.#args.target.querySelector('#containerCategory');\r\n    const offcanvasBody = this.#args.target.querySelector('.offcanvas-body');\r\n    const offcanvasCategory = new (bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default().Offcanvas)('#offcanvasCategory');\r\n\r\n    //-------------------------------------------------------\r\n    // events\r\n    //-------------------------------------------------------\r\n    args.target.addEventListener('hidden.bs.collapse', (e) => {\r\n      const btn = args.target.querySelector('button[data-bs-target=\"#' + e.target.id + '\"]');\r\n      if (btn) {\r\n        const icon = btn.querySelector('i');\r\n        icon.classList.remove('bi-chevron-up', 'bi-chevron-down');\r\n        icon.classList.add('bi-chevron-down');\r\n      }\r\n    });\r\n\r\n    args.target.addEventListener('shown.bs.collapse', (e) => {\r\n      const btn = args.target.querySelector('button[data-bs-target=\"#' + e.target.id + '\"]');\r\n      if (btn) {\r\n        const icon = btn.querySelector('i');\r\n        icon.classList.remove('bi-chevron-up', 'bi-chevron-down');\r\n        icon.classList.add('bi-chevron-up');\r\n      }\r\n    });\r\n\r\n    args.target.addEventListener( 'click', (e) => {\r\n      if (e.target.nodeName == 'SPAN' && e.target.dataset.categoryId) {\r\n        this.#selCats = this.#categoryList.filter( c => c.categoryId == parseInt(e.target.dataset.categoryId));\r\n        offcanvasCategory.hide();\r\n        if (this.#args.click && typeof this.#args.click === 'function') this.#args.click(this.#selCats[0]);\r\n      }\r\n    });\r\n\r\n    containerCategory.addEventListener( 'click', (e) => {\r\n      if (e.target.nodeName == 'INPUT' && e.target.type == 'checkbox') {\r\n        const cb = offcanvasBody.querySelector('#' + e.target.id);\r\n        cb.checked = e.target.checked;\r\n      }\r\n    });\r\n\r\n    offcanvasBody.addEventListener( 'click', (e) => {\r\n      if (e.target.nodeName == 'INPUT' && e.target.type == 'checkbox') {\r\n        const cb = containerCategory.querySelector('#' + e.target.id);\r\n        cb.checked = e.target.checked;\r\n      }\r\n    });\r\n\r\n\r\n\r\n    //-------------------------------------------------------\r\n    // init\r\n    //-------------------------------------------------------\r\n\r\n    //-------------------------------------------------------\r\n    //-------------------------------------------------------\r\n  } // constructor\r\n\r\n  //===================================================================================================================================\r\n  // properties\r\n  //===================================================================================================================================\r\n  get categoryList() {\r\n    return this.#categoryList;\r\n  }\r\n\r\n  set categoryList(v) {\r\n    this.#categoryList = v;\r\n    this.#treeviewShow();\r\n  }\r\n\r\n  get selCats() {\r\n\r\n    if (this.#args.multiSelect) {\r\n      const containerCategory = this.#args.target.querySelector('#containerCategory');\r\n      this.#selCats = [];\r\n      containerCategory.querySelectorAll('input[type=\"checkbox\"]:checked').forEach( (item) => {\r\n        const cs = this.#categoryList.filter(c => c.categoryId == parseInt(item.dataset.categoryId));\r\n        this.#selCats.push(...cs);\r\n      });\r\n    }\r\n    return this.#selCats;\r\n  }\r\n\r\n  set selCats(v) {\r\n    this.#selCats = v;\r\n\r\n    const containerCategory = this.#args.target.querySelector('#containerCategory');\r\n    const offcanvasBody = this.#args.target.querySelector('.offcanvas-body');\r\n\r\n    if (this.#args.multiSelect) {\r\n      let checkBox = null;\r\n\r\n      for (const selCat of this.#selCats) {\r\n        const ids = selCat.idPath.split('|');\r\n        for (const id of ids) {\r\n          if (id) {\r\n            checkBox = containerCategory.querySelector('#checkboxCategory_' + id);\r\n            checkBox.checked = true;\r\n            checkBox = offcanvasBody.querySelector('#checkboxCategory_' + id);\r\n            checkBox.checked = true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  //===================================================================================================================================\r\n  // private methods\r\n  //===================================================================================================================================\r\n  #treeviewShow() {\r\n    const containerCategory = this.#args.target.querySelector('#containerCategory');\r\n    const offcanvasBody = this.#args.target.querySelector('.offcanvas-body');\r\n    containerCategory.innerHTML = offcanvasBody.innerHTML = this.#treeviewBuild(null, 0);\r\n  }\r\n\r\n  #treeviewBuild(pCat) {\r\n    let html = '';\r\n    let cl = null;\r\n    if (pCat) cl = this.#categoryList.filter( o => o.categoryRefId == pCat.categoryId);\r\n    else cl = this.#categoryList.filter( o => !o.categoryRefId);\r\n\r\n    for (const c of cl){\r\n      html += `\r\n        <div class=\"mt-2 d-flex align-items-center\">\r\n          <button type=\"button\" class=\"btn btn-secondary${(this.#categoryList.filter( o =>  o.categoryRefId == c.categoryId).length == 0 ? ' invisible' : '')}\" data-bs-toggle=\"collapse\" data-bs-target=\"#collapse${c.categoryId}\" aria-expanded=\"false\" aria-controls=\"collapseExample\">\r\n            <i class=\"bi-chevron-down\"></i>\r\n          </button>\r\n          ${(this.#args.multiSelect \r\n            ? `<div class=\"form-check ms-2\">\r\n                <input class=\"form-check-input\" type=\"checkbox\" value=\"\" id=\"checkboxCategory_${c.categoryId}\" data-category-id=\"${c.categoryId}\">\r\n                <label class=\"form-check-label\" for=\"checkboxCategory_${c.categoryId}\">${c.name}</label>\r\n              </div>`\r\n            : `<span class=\"ms-2 element-clickable\" data-category-id=\"${c.categoryId}\">${c.name}</span>`\r\n          )}\r\n          \r\n        </div>\r\n        <div class=\"collapse ps-3\" id=\"collapse${c.categoryId}\">\r\n          ${this.#treeviewBuild(c)}\r\n        </div>\r\n      `;\r\n    }\r\n    return html;\r\n  }\r\n\r\n\r\n  //===================================================================================================================================\r\n  //===================================================================================================================================\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/category-treeview/category-tree.js?");

/***/ }),

/***/ "./src/components/dialogues/d-category.html":
/*!**************************************************!*\
  !*** ./src/components/dialogues/d-category.html ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div \tclass=\"modal fade\" \r\n\t\t\tid=\"modalCategory\" \r\n\t\t\tdata-bs-backdrop=\"static\" \r\n\t\t\tdata-bs-keyboard=\"false\" \r\n\t\t\ttabindex=\"-1\" \r\n\t\t\taria-labelledby=\"modalTitleModalCategory\" \r\n\t\t\taria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header border-2 border-wifi\">\r\n        <h1 class=\"modal-title fs-5\" \r\n\t\t\t\t\t\tid=\"modalTitleModalCategory\">\r\n\t\t\t\t\t\tCategory</h1>\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn-close\" \r\n\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\" \r\n\t\t\t\t\t\t\t\taria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"row mt-2\">\r\n          <div class=\"col-12 col-lg-3\">\r\n            <label  for=\"textNameModalCategory\">\r\n                    Name</label>\r\n          </div>\r\n          <div class=\"col-12 col-lg-9 mt-2 mt-lg-0\">\r\n            <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\t\tid=\"textNameModalCategory\" \r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"row mt-2\">\r\n          <div class=\"col-12 col-lg-3\">\r\n            <label  for=\"numberRankingModalCategory\">\r\n                    Ranking</label>\r\n          </div>\r\n          <div class=\"col-12 col-lg-3 mt-2 mt-lg-0\">\r\n            <input \ttype=\"number\" \r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control\" \r\n\t\t\t\t\t\t\t\t\t\tid=\"numberRankingModalCategory\" \r\n\t\t\t\t\t\t\t\t\t\tmin=\"1\" \r\n\t\t\t\t\t\t\t\t\t\tstep=\"1\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer border-2 border-wifi\">\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\" \r\n\t\t\t\t\t\t\t\tid=\"buttonSaveModalCategory\">\r\n\t\t\t\t\t\t\t\t<i  class=\"bi-check-lg me-2\"></i>\r\n\t\t\t\t\t\t\t\t    Save</button>\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\" \r\n\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\">\r\n\t\t\t\t\t\t\t\t<i  class=\"bi-x-lg me-2\"></i>\r\n\t\t\t\t\t\t\t\t    Cancel</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/dialogues/d-category.html?");

/***/ }),

/***/ "./src/components/dialogues/d-category.js":
/*!************************************************!*\
  !*** ./src/components/dialogues/d-category.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ dCategory)\n/* harmony export */ });\n/* harmony import */ var _node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../node_modules/bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var _node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _d_category_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./d-category.html */ \"./src/components/dialogues/d-category.html\");\n\r\n// import 'bootstrap/dist/js/bootstrap.bundle';\r\n\r\n\r\n\r\nclass dCategory {\r\n  //==========================================================================================================\r\n  // private vars\r\n  #args = null;\r\n  #modal = null;\r\n  #category = null;\r\n  #pCategory = null;\r\n\r\n  //==========================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.insertAdjacentHTML('beforeend', _d_category_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n\r\n    const modalCategory = args.target.querySelector('#modalCategory');\r\n    this.#modal = new (_node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default().Modal)(modalCategory);\r\n\r\n    const numberRanking = this.#args.target.querySelector('#numberRankingModalCategory');\r\n    const textName = this.#args.target.querySelector('#textNameModalCategory');\r\n    const buttonSave = this.#args.target.querySelector('#buttonSaveModalCategory');\r\n\r\n    //----------------------------------------------------\r\n    buttonSave.addEventListener( 'click', () => {\r\n\r\n      if (!this.#category) {\r\n        this.#category = {\r\n          categoryId: null\r\n        };\r\n      }\r\n\r\n      if (this.#pCategory) {\r\n        this.#category.categoryRefId = this.#pCategory.categoryId;\r\n      }\r\n       \r\n      this.#category.name = textName.value ? textName.value : null;\r\n      this.#category.ranking = numberRanking.value ? parseInt(numberRanking.value) : null;\r\n\r\n      args.app.apiSet((r) => {\r\n        if (r.success) {\r\n          if (args.saveClick && typeof args.saveClick === 'function') args.saveClick();\r\n          // buttonSave.blur();\r\n          setTimeout(() => this.#modal.hide(), 50);\r\n        }\r\n      }, (ex) => {\r\n        alert(ex);\r\n      }, '/category', this.#category.categoryId, this.#category);\r\n    });\r\n  }\r\n\r\n  //==========================================================================================================\r\n  show(args) {\r\n\r\n    const numberRanking = this.#args.target.querySelector('#numberRankingModalCategory');\r\n    const textName = this.#args.target.querySelector('#textNameModalCategory');\r\n    const modalTitle = this.#args.target.querySelector('#modalTitleModalCategory');\r\n\r\n    this.#category = null;\r\n    this.#pCategory = null;\r\n    textName.value = '';\r\n    numberRanking.value = '';\r\n    modalTitle.innerText = 'add Category';\r\n\r\n    if (args) {\r\n      if (args.category) {\r\n        modalTitle.innerText = 'change Category';\r\n        this.#category = args.category;\r\n        textName.value = this.#category.name;\r\n        numberRanking.value = this.#category.ranking;\r\n      }\r\n\r\n      if (args.pCategory) {\r\n        modalTitle.innerText = 'Under ' + args.pCategory.name + ' add Category';\r\n        this.#pCategory = args.pCategory;\r\n      }\r\n    }\r\n    this.#modal.show();\r\n  }\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/dialogues/d-category.js?");

/***/ }),

/***/ "./src/components/dialogues/d-stock.html":
/*!***********************************************!*\
  !*** ./src/components/dialogues/d-stock.html ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div \tclass=\"modal fade\" \r\n\t\t\tid=\"modalStock\" \r\n\t\t\tdata-bs-backdrop=\"static\" \r\n\t\t\tdata-bs-keyboard=\"false\" \r\n\t\t\ttabindex=\"-1\" \r\n\t\t\taria-labelledby=\"staticBackdropLabel\" \r\n\t\t\taria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-lg\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header border-2 border-wifi\">\r\n        <h1 class=\"modal-title fs-5\" \r\n\t\t\t\t\t\tid=\"staticBackdropLabel\">\r\n\t\t\t\t\t\tSet Stock Entry</h1>\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn-close\" \r\n\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\" \r\n\t\t\t\t\t\t\t\taria-label=\"Close\"></button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <div class=\"row mt-2\">\r\n          <div class=\"col-12 col-lg-3\">\r\n            <label  for=\"numberAmountModalStock\">\r\n                    Amount</label>\r\n          </div>\r\n          <div class=\"col-12 col-lg-6 mt-2 mt-lg-0\">\r\n            <input \ttype=\"number\" \r\n\t\t\t\t\t\t\t\t\t\tid=\"numberAmountModalStock\" \r\n\t\t\t\t\t\t\t\t\t\tclass=\"form-control\" \r\n\t\t\t\t\t\t\t\t\t\tmin=\"1\" \r\n\t\t\t\t\t\t\t\t\t\tstep=\"10\" />\r\n          </div>\r\n        </div>\r\n        <div class=\"row mt-2\">\r\n          <div class=\"col-12 col-lg-3\">\r\n            <label  for=\"textNoteModalStock\">\r\n                    Note</label>\r\n          </div>\r\n          <div class=\"col-12 col-lg-9 mt-2 mt-lg-0\">\r\n            <textarea class=\"form-control\" \r\n\t\t\t\t\t\t\t\t\t\t\tid=\"textNoteModalStock\" \r\n\t\t\t\t\t\t\t\t\t\t\trows=\"3\" \r\n\t\t\t\t\t\t\t\t\t\t\tmaxlength=\"250\"></textarea>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"modal-footer border-2 border-wifi\">\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn btn-primary\" \r\n\t\t\t\t\t\t\t\tid=\"buttonSaveModalStock\">\r\n\t\t\t\t\t\t\t\t<i  class=\"bi-check-lg me-2\"></i>\r\n\t\t\t\t\t\t\t\t    OK</button>\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\" \r\n\t\t\t\t\t\t\t\tdata-bs-dismiss=\"modal\">\r\n\t\t\t\t\t\t\t\t<i  class=\"bi-x-lg me-2\"></i>\r\n\t\t\t\t\t\t\t\t    Cancel</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/dialogues/d-stock.html?");

/***/ }),

/***/ "./src/components/dialogues/d-stock.js":
/*!*********************************************!*\
  !*** ./src/components/dialogues/d-stock.js ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ dStock)\n/* harmony export */ });\n/* harmony import */ var _node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../node_modules/bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var _node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _d_stock_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./d-stock.html */ \"./src/components/dialogues/d-stock.html\");\n\r\n// import 'bootstrap/dist/js/bootstrap.bundle';\r\n\r\n\r\nclass dStock {\r\n  //==========================================================================================================\r\n  // private vars\r\n  #args = null;\r\n  #modal = null;\r\n  #stock = null;\r\n  #product = null;\r\n  #modus = null;\r\n  #numberAmount = null;\r\n  #textNote = null;\r\n\r\n  //==========================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.insertAdjacentHTML('beforeend', _d_stock_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"]);\r\n\r\n    const modalStock = args.target.querySelector('#modalStock');\r\n    this.#modal = new (_node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default().Modal)(modalStock);\r\n\r\n    this.#numberAmount = this.#args.target.querySelector('#numberAmountModalStock');\r\n    this.#textNote = this.#args.target.querySelector('#textNoteModalStock');\r\n    const buttonSave = this.#args.target.querySelector('#buttonSaveModalStock');\r\n\r\n    //----------------------------------------------------\r\n    // buttonSave.addEventListener( 'click', () => {\r\n\r\n    //   this.#stock = {\r\n    //     stockId: null,\r\n    //     productId: this.#product.productId\r\n    //   };\r\n\r\n    //   // if (numberAmount.value) {\r\n    //   //   this.#stock.amount = (this.#modus == 'p') \r\n    //   //     ? parseInt(numberAmount.value) \r\n    //   //     : -1 * parseInt(numberAmount.value);\r\n    //   // } else {\r\n    //   //   this.#stock.amount = 0;\r\n    //   // }   \r\n    //   // this.#stock.note = textNote.value ? textNote.value : null;\r\n\r\n    //   const rawAmount = parseInt(this.#numberAmount.value);\r\n    //   if (isNaN(rawAmount)) {\r\n    //     this.#stock.amount = 0;\r\n    //   } else {\r\n    //     this.#stock.amount = (this.#modus === 'p')\r\n    //       ? Math.abs(rawAmount)\r\n    //       : -1 * Math.abs(rawAmount);\r\n    //   }\r\n\r\n    //   this.#stock.note = this.#textNote.value || null;\r\n\r\n    //     // Set timestamp if missing\r\n    //   if (!this.#stock.dateTime) {\r\n    //     this.#stock.dateTime = new Date().toISOString();\r\n    //   }\r\n    //   // Add to product in memory only (do not persist to server)\r\n    //   if (args.addStockToProduct && typeof args.addStockToProduct === 'function') {\r\n    //     const stockClone = JSON.parse(JSON.stringify(this.#stock));\r\n    //     args.addStockToProduct(stockClone);\r\n    //     this.#stock = null;\r\n    //   }\r\n\r\n    //   if (Array.isArray(this.#product.stockList)) {\r\n    //     for (const entry of this.#product.stockList) {\r\n    //       delete entry.personNameFull;\r\n    //     }\r\n    //   }\r\n\r\n    //   // ✅ FIX: remove focus to prevent aria-hidden warning\r\n    //   document.activeElement?.blur();\r\n    //   setTimeout(() => this.#modal.hide(), 50);\r\n\r\n    //   // args.app.apiSet(() => {\r\n    //   //   // if (r.success) {\r\n    //   //   //   if (args.saveClick && typeof args.saveClick === 'function') args.saveClick();\r\n    //   //   //   // buttonSave.blur();\r\n    //   //   //   setTimeout(() => this.#modal.hide(), 50);\r\n    //   //   // }\r\n    //   //   if (!this.#stock.dateTime) {\r\n    //   //   this.#stock.dateTime = new Date().toISOString();  // mimic backend-generated timestamp\r\n    //   //   }\r\n    //   //   if (args.addStockToProduct && typeof args.addStockToProduct === 'function') {\r\n    //   //       args.addStockToProduct(this.#stock);\r\n    //   //     }\r\n    //   //     this.#modal.hide();\r\n    //   // }, (ex) => {\r\n    //   //   alert(ex);\r\n    //   // }, '/stock', this.#stock.stockId, this.#stock);\r\n    //   // this.#modal.hide();\r\n    // });\r\n    buttonSave.addEventListener('click', () => {\r\n      // debugger;\r\n      this.#stock = {\r\n        stockId: null,\r\n        productId: this.#product.productId\r\n      };\r\n\r\n      const rawAmount = parseInt(this.#numberAmount.value);\r\n      this.#stock.amount = isNaN(rawAmount) ? 0 : (this.#modus === 'p' ? Math.abs(rawAmount) : -1 * Math.abs(rawAmount));\r\n      this.#stock.note = this.#textNote.value || null;\r\n\r\n      if (!this.#stock.dateTime) {\r\n        this.#stock.dateTime = new Date().toISOString();\r\n      }\r\n\r\n      // ✅ Just pass it back – let parent handle cleanup\r\n      if (args.addStockToProduct && typeof args.addStockToProduct === 'function') {\r\n        const stockClone = JSON.parse(JSON.stringify(this.#stock));\r\n        args.addStockToProduct(stockClone);\r\n        this.#stock = null;\r\n      }\r\n\r\n      // ✅ Optional: remove focus to avoid modal warning\r\n      document.activeElement?.blur();\r\n      setTimeout(() => this.#modal.hide(), 50);\r\n    });\r\n\r\n  }\r\n  //==========================================================================================================\r\n  show(args) {\r\n\r\n    if (args) {\r\n      if (args.product) this.#product = args.product;\r\n      if (args.modus) this.#modus = args.modus;\r\n    }\r\n    this.#numberAmount.value = '';\r\n    this.#textNote.value = '';\r\n    this.#modal.show();\r\n  }\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/dialogues/d-stock.js?");

/***/ }),

/***/ "./src/components/navigation-bar/nav-bar.html":
/*!****************************************************!*\
  !*** ./src/components/navigation-bar/nav-bar.html ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Imports\nvar ___HTML_LOADER_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./../../images/ProgrammierBar_Logo_old.png */ \"./src/images/ProgrammierBar_Logo_old.png\"), __webpack_require__.b);\nvar ___HTML_LOADER_IMPORT_1___ = new URL(/* asset import */ __webpack_require__(/*! ./../../images/login-pic.png */ \"./src/images/login-pic.png\"), __webpack_require__.b);\n// Module\nvar code = `<nav class=\"navbar navbar-expand-lg bg-wifi \r\n\t\t\t\t\t\tpy-3 position-relative\">\r\n  <div class=\"container-fluid\r\n           \t\td-flex\r\n           \t\tjustify-content-center\r\n           \t\tjustify-content-lg-between\r\n           \t\talign-items-center\">\r\n\r\n    <!-- 1) Toggler for the LEFT nav -->\r\n    <button class=\"navbar-toggler order-0\"\r\n      \t\t\ttype=\"button\"\r\n      \t\t\tdata-bs-toggle=\"collapse\"\r\n      \t\t\tdata-bs-target=\"#navbarLeft\"\r\n      \t\t\taria-controls=\"navbarLeft\"\r\n      \t\t\taria-expanded=\"false\"\r\n      \t\t\taria-label=\"Toggle navigation\">\r\n      <span class=\"navbar-toggler-icon\"></span>\r\n    </button>\r\n\r\n    <!-- 2) LEFT nav (collapsible) -->\r\n    <div class=\"collapse navbar-collapse order-0\r\n             \t\tjustify-content-center\r\n             \t\tjustify-content-lg-start\"\r\n      \t id=\"navbarLeft\">\r\n      <ul class=\"navbar-nav w-100 \r\n\t\t\t\t\t\t\t\t justify-content-center \r\n\t\t\t\t\t\t\t\t justify-content-lg-start \r\n\t\t\t\t\t\t\t\t mb-2 mb-lg-0\">\r\n        <li class=\"nav-item\">\r\n          <a class=\"nav-link active\"\r\n             aria-current=\"page\"\r\n             href=\"#productlist\">\r\n            <i class=\"bi-bag-heart-fill fs-3 me-2\">\r\n\t\t\t\t\t\tProducts</i>\r\n          </a>\r\n        </li>\r\n\t\t\t\t<!-- Categories & Users (appended by JS) -->\r\n      </ul>\r\n    </div>\r\n\r\n    <!-- 3) BRAND / LOGO centered -->\r\n    <a class=\"navbar-brand order-1 mx-auto \r\n\t\t\t\t\t\t\tposition-lg-absolute me-lg-4\r\n\t\t\t\t\t\t\ttop-lg-50 start-lg-50\r\n\t\t\t\t\t\t\ttranslate-middle-lg-x\"\r\n\t\t\t href=\"#\">\r\n      <img src=\"${___HTML_LOADER_IMPORT_0___}\"\r\n        \t alt=\"Programmier Bar\"\r\n        \t class=\"img-fluid\"\r\n    \t\t\t style=\"height:50px;\">\r\n    </a>\r\n\r\n    <!-- 4) RIGHT user block (never collapsed) -->\r\n    <div class=\"d-flex align-items-center order-2 \r\n\t\t\t\t\t\t\t\tms-lg-auto me-lg-4\">\r\n      <!-- Sign In (shown when logged out) -->\r\n      <a id=\"buttonSignIn\"\r\n         href=\"#login\"\r\n         class=\"btn btn-secondary me-3 \r\n\t\t\t\t \t\t\t\talign-self-center mt-1\">\r\n         Sign in\r\n      </a>\r\n\r\n      <!-- User-menu dropdown (shown when logged in) -->\r\n      <div class=\"dropdown dropstart\">\r\n        <a class=\"dropdown-toggle text-light\"\r\n           href=\"#\"\r\n           role=\"button\"\r\n           data-bs-toggle=\"dropdown\"\r\n           aria-expanded=\"false\">\r\n           <i class=\"bi-person-fill-gear fs-1\"></i>\r\n        </a>\r\n        <div class=\"dropdown-menu dropdown-menu-end\"\r\n          \t style=\"width:400px;\"\r\n          \t id=\"dropdownMenuPerson\">\r\n\r\n          <div class=\"d-block border-bottom border-2 border-wifi\"\r\n            \t style=\"padding: 2rem 0;\">\r\n            <div class=\"text-center element-clickable\">\r\n              <img src=\"${___HTML_LOADER_IMPORT_1___}\"\r\n                \t id=\"imgPic\"\r\n                \t alt=\"\"\r\n                \t style=\"border-radius: 50%; width:150px;\">\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"d-block border-bottom border-2 border-wifi\r\n                   \t\ttext-center element-clickable\"\r\n            \t style=\"padding: 1rem 0;\">\r\n            <span class=\"fs-4 fw-bold\" \r\n\t\t\t\t\t\t\t\t\tid=\"infoTextUserName\"></span>\r\n          </div>\r\n\r\n          <div class=\"d-block text-center\"\r\n            \t style=\"padding: 1rem 0;\">\r\n            <button type=\"button\"\r\n              \t\t\tclass=\"btn btn-outline-secondary btn-lg\"\r\n              \t\t\tid=\"buttonSignOff\">\r\n              \t\t\tSign off\r\n            </button>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</nav>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/navigation-bar/nav-bar.html?");

/***/ }),

/***/ "./src/components/navigation-bar/nav-bar.js":
/*!**************************************************!*\
  !*** ./src/components/navigation-bar/nav-bar.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NavBar)\n/* harmony export */ });\n/* harmony import */ var _node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../../../node_modules/bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var _node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _nav_bar_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./nav-bar.html */ \"./src/components/navigation-bar/nav-bar.html\");\n\r\n\r\n\r\nclass NavBar {\r\n\tconstructor(args) {\r\n\t\targs.target.innerHTML = _nav_bar_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n\r\n\t\t// ─── ELEMENT REFERENCES ────────────────────────────────────────────\r\n\t\t// grab all DOM (document object model) elements \r\n\t\tconst productsLink\t\t\t= args.target.querySelector('ul.navbar-nav a.nav-link[href=\"#productlist\"]');\r\n\t\tconst ul                = args.target.querySelector('ul.navbar-nav');\r\n\t\tconst toggleLink        = args.target.querySelector('a.dropdown-toggle');\r\n\t\tconst dropdownMenu      = args.target.querySelector('#dropdownMenuPerson');\r\n\t\tconst buttonSignIn      = args.target.querySelector('#buttonSignIn');\r\n\t\tconst buttonSignOff     = args.target.querySelector('#buttonSignOff');\r\n\t\tconst infoTextUserName  = args.target.querySelector('#infoTextUserName');\r\n\t\tconst imgPic            = args.target.querySelector('#imgPic');\r\n\r\n\t\t// conditional <li> elements\r\n\t\tconst liCategories      = document.createElement('li');\r\n\t\tliCategories.className  = 'nav-item align-self-center';\r\n\t\tliCategories.innerHTML  = `\r\n\t\t\t<a \tclass=\"nav-link\" \r\n\t\t\t\t\tstyle=\"font-size: 1.5rem;\" \r\n\t\t\t\t\thref=\"#categories\">\r\n\t\t\t\t<i \tclass=\"bi-tags-fill fs-4\"></i>\r\n\t\t\t\t \t\tCategories\r\n\t\t\t</a>`;\r\n\t\tif (args.app.user?.roleNumber >= 1) ul.appendChild(liCategories);\r\n\r\n\t\tconst liUsers           = document.createElement('li');\r\n\t\tliUsers.className       = 'nav-item align-self-center';\r\n\t\tliUsers.innerHTML       = `\r\n\t\t\t<a \tclass=\"nav-link\" \r\n\t\t\t\t\tstyle=\"font-size: 1.5rem;\" \r\n\t\t\t\t\thref=\"#personlist\">\r\n\t\t\t\t<i \tclass=\"bi-person-fill fs-3\"></i>\r\n\t\t\t\t \t\tUsers\r\n\t\t\t</a>`;\r\n\t\tif (args.app.user?.roleNumber >= 2) ul.appendChild(liUsers);\r\n\r\n\r\n\t\t// ─── LOGGED-OUT STATE ───────────────────────────────────────────────\r\n\t\t// when logged out: turn icon into a simple \"#login\" link\r\n\t\tif (!args.app.user) {\r\n\t\t\ttoggleLink.removeAttribute('data-bs-toggle');\r\n\t\t\ttoggleLink.removeAttribute('aria-expanded');\r\n\t\t\ttoggleLink.setAttribute('href', '#login');\r\n\t\t\tproductsLink?.remove();\r\n\t\t\tdropdownMenu.remove();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\n\t\t// ─── EVENTS (when LOGGED IN) ────────────────────────────────────────────────────────\r\n\t\t// when logged in: wire up dropdown & sign-off button\r\n\t\tdropdownMenu.addEventListener('click', e => {\r\n\t\t\te.stopPropagation();  // prevent dropdown from closing\r\n\t\t\twindow.open('#persondetail?id=' + args.app.user.personId, '_self');\r\n\t\t});\r\n\r\n\t\t// SIGN OFF\r\n\t\tbuttonSignOff.addEventListener('click', e => {\r\n\t\t\te.stopPropagation();\r\n\t\t\tif (!confirm('Are you sure you want to sign off?')) return;\r\n\t\t\targs.app.apiGet(\r\n\t\t\t\tr => {\r\n\t\t\t\t\tif (r.success) {\r\n\t\t\t\t\t\targs.app.user = null;\r\n\t\t\t\t\t\tlocation.hash = '#main';\r\n\t\t\t\t\t\t// window.open('#main', '_self');  // same like line 48\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\terr => alert(err),\r\n\t\t\t\t'/page/logout'\r\n\t\t\t);\r\n\t\t});\r\n\r\n\t\t// ─── INITIALIZATION (when LOGGED IN) ──────────────────────────────────────────────\t\t\r\n\t\tinfoTextUserName.innerText = [\r\n\t\t\targs.app.user?.titlePre,\r\n\t\t\targs.app.user?.forename,\r\n\t\t\targs.app.user?.surname,\r\n\t\t\targs.app.user?.titlePost\r\n\t\t].filter(Boolean).join(' ');\r\n\t\t\r\n\t\tif (args.app.user?.picString) \r\n\t\t\timgPic.src = args.app.user.picString;\r\n\r\n\t\tbuttonSignIn.classList.add('d-none');  // hide sign-in button\r\n\t}\r\n}\n\n//# sourceURL=webpack://programmier_bar.web/./src/components/navigation-bar/nav-bar.js?");

/***/ }),

/***/ "./src/css/app.css":
/*!*************************!*\
  !*** ./src/css/app.css ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://programmier_bar.web/./src/css/app.css?");

/***/ }),

/***/ "./src/images/ProgrammierBar_Logo_old.png":
/*!************************************************!*\
  !*** ./src/images/ProgrammierBar_Logo_old.png ***!
  \************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"assets/ProgrammierBar_Logo_old.f3ffccd909bdb998d803.png\";\n\n//# sourceURL=webpack://programmier_bar.web/./src/images/ProgrammierBar_Logo_old.png?");

/***/ }),

/***/ "./src/images/login-pic.png":
/*!**********************************!*\
  !*** ./src/images/login-pic.png ***!
  \**********************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("module.exports = __webpack_require__.p + \"assets/login-pic.793fb76f81cf2336b230.png\";\n\n//# sourceURL=webpack://programmier_bar.web/./src/images/login-pic.png?");

/***/ }),

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_bootstrap_dist_css_bootstrap_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./../node_modules/bootstrap/dist/css/bootstrap.css */ \"./node_modules/bootstrap/dist/css/bootstrap.css\");\n/* harmony import */ var _node_modules_bootstrap_icons_font_bootstrap_icons_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./../node_modules/bootstrap-icons/font/bootstrap-icons.css */ \"./node_modules/bootstrap-icons/font/bootstrap-icons.css\");\n/* harmony import */ var _css_app_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./css/app.css */ \"./src/css/app.css\");\n/* harmony import */ var _app_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app.js */ \"./src/app.js\");\n\r\n\r\n\r\n\r\n\r\n\r\nnew _app_js__WEBPACK_IMPORTED_MODULE_3__[\"default\"]();\n\n//# sourceURL=webpack://programmier_bar.web/./src/index.js?");

/***/ }),

/***/ "./src/p-categories.html":
/*!*******************************!*\
  !*** ./src/p-categories.html ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container\">\r\n  <div class=\"row border-bottom border-2\">\r\n    <div class=\"col-12\">\r\n      <h1>List of Categories</h1>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-2\">\r\n    <div class=\"col-12\">\r\n      <button type=\"button\" \r\n\t\t\t\t\t\t\tclass=\"btn btn-secondary\" \r\n\t\t\t\t\t\t\tid=\"buttonNew\"> \r\n\t\t\t\t\t\t\t<i  class=\"bi-plus me-2\"></i>\r\n\t\t\t\t\t\t\t    Add new Main Category</button>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-2\">\r\n    <div class=\"col-12\">\r\n      <table \tclass=\"table table-hover\" \r\n\t\t\t\t\t\t\tid=\"tableList\">\r\n        <thead>\r\n          <tr>\r\n            <th style=\"width: 8rem;\">\r\n                Action</th>\r\n            <th>Name</th>\r\n            <th class=\"text-end\" \r\n\t\t\t\t\t\t\t\tstyle=\"width: 12rem;\">\r\n\t\t\t\t\t\t\t\tRanking</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody></tbody>\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-categories.html?");

/***/ }),

/***/ "./src/p-categories.js":
/*!*****************************!*\
  !*** ./src/p-categories.js ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pCategories)\n/* harmony export */ });\n/* harmony import */ var _p_categories_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./p-categories.html */ \"./src/p-categories.html\");\n/* harmony import */ var _components_dialogues_d_category__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/dialogues/d-category */ \"./src/components/dialogues/d-category.js\");\n\r\n\r\n\r\nclass pCategories {\r\n  //============================================================================================================================\r\n  #args = null;\r\n  #categoryList = null;\r\n  //============================================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.innerHTML = _p_categories_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n    //---------------------------------------------------\r\n    const buttonNew = this.#args.target.querySelector('#buttonNew');\r\n    const tableList = this.#args.target.querySelector('#tableList>tbody');\r\n\r\n    const dialog = new _components_dialogues_d_category__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n      target: args.target,\r\n      app: args.app,\r\n      saveClick: () => {\r\n        this.#dataRead();\r\n      }\r\n    });\r\n\r\n    //---------------------------------------------------\r\n    // events\r\n    //---------------------------------------------------\r\n    buttonNew.addEventListener( 'click', () => {\r\n      dialog.show();\r\n    });\r\n\r\n    tableList.addEventListener( 'click', (e) => {\r\n\r\n      let btn = null;\r\n      let cat = null;\r\n      if (e.target.nodeName == 'I' && e.target.parentElement.nodeName == 'BUTTON') btn = e.target.parentElement;\r\n      else if (e.target.nodeName == 'BUTTON') btn = e.target;\r\n\r\n      if (btn && btn.dataset.action) {\r\n        cat = this.#categoryList.filter(c => c.categoryId == parseInt(btn.dataset.id))[0];\r\n        switch(btn.dataset.action) {\r\n          case 'add':\r\n            dialog.show({\r\n              pCategory: cat\r\n            });\r\n            break;\r\n          case 'del':\r\n            if (confirm('Are you sure u want to delete ' + cat.name + ' ?')) {\r\n              args.app.apiDelete( (r) => {\r\n                if (r.success) this.#dataRead();\r\n                else alert(r.message);\r\n              }, (ex) => {\r\n                alert(ex);\r\n              }, '/category/' + cat.categoryId);\r\n            }\r\n            break;\r\n        }\r\n      } else if (e.target.nodeName == 'TD' && e.target.dataset.id) {\r\n        cat = this.#categoryList.filter(c => c.categoryId == parseInt(e.target.dataset.id))[0];\r\n        dialog.show({\r\n          category: cat\r\n        });\r\n      }\r\n    });\r\n\r\n    //---------------------------------------------------\r\n    // init\r\n    //---------------------------------------------------\r\n    this.#dataRead();\r\n  } // constructor\r\n\r\n  //============================================================================================================================\r\n  // private methods\r\n  //============================================================================================================================\r\n  #dataRead() {\r\n\r\n    const tableList = this.#args.target.querySelector('#tableList>tbody');\r\n\r\n    this.#args.app.apiGet((r) => {\r\n      this.#categoryList = r;\r\n      tableList.innerHTML = this.#treeviewCreate();\r\n    }, (ex) => {\r\n      alert(ex);\r\n    }, '/category');\r\n  }\r\n\r\n  #treeviewCreate(pc, level) {\r\n    let cl = null;\r\n    let html = '';\r\n\r\n    if (!level) level = 0;\r\n    if (pc) cl = this.#categoryList.filter(c => c.categoryRefId == pc.categoryId);\r\n    else cl = this.#categoryList.filter(c => !c.categoryRefId);\r\n\r\n    for (const c of cl) {\r\n      html += `\r\n        <tr>\r\n          <td>\r\n            <button type=\"button\" class=\"btn btn-secondary\" data-action=\"add\" data-id=\"${c.categoryId}\"><i class=\"bi-plus\"></i></button>\r\n            <button type=\"button\" class=\"btn btn-danger\" data-action=\"del\" data-id=\"${c.categoryId}\"><i class=\"bi-trash3-fill\"></i></button>\r\n          </td>\r\n          <td class=\"element-clickable pt-3\" style=\"padding-left:${level * 2}rem;\" data-id=\"${c.categoryId}\">${c.name}</td>\r\n          <td class=\"element-clickable text-end\" data-id=\"${c.categoryId}\">${c.ranking}</td>\r\n        </tr>\r\n        ${this.#treeviewCreate(c, level + 1)}\r\n      `;\r\n    }\r\n    return html;\r\n  }\r\n\r\n\r\n\r\n\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-categories.js?");

/***/ }),

/***/ "./src/p-login.html":
/*!**************************!*\
  !*** ./src/p-login.html ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container\">\r\n  <div  class=\"row\" \r\n        style=\"margin-top: 15rem;\">\r\n    <div  class=\"col-12 col-lg-6 offset-lg-3 bgimg-login px-5 pt-2\" \r\n          style=\"border-radius: 2rem; height: 50dvh;\">\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-12\">\r\n          <h1 class=\"text-light text-center\">\r\n              Please sign in</h1>\r\n        </div>\r\n      </div>\r\n      <form>\r\n      <div  class=\"row\" \r\n            style=\"margin-top: 5rem;\">\r\n        <div class=\"col-12\">\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\">\r\n              <i class=\"bi-person-fill\"></i></span>\r\n            <input  type=\"text\" \r\n                    id=\"textUsername\" \r\n                    class=\"form-control\"/>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-3\">\r\n        <div class=\"col-12\">\r\n          <div class=\"input-group\">\r\n            <span class=\"input-group-text\" \r\n                  aria-label=\"passwort\">\r\n                  <i class=\"bi-lock-fill\"></i></span>\r\n            <input  type=\"password\" \r\n                    id=\"textPassword\" \r\n                    class=\"form-control\"/>\r\n            <button type=\"button\" \r\n                    class=\"btn btn-secondary\">\r\n                    <i class=\"bi-eye-fill\"></i></button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      </form>\r\n      <div class=\"row mt-3\">\r\n        <div class=\"col-12\">\r\n          <div class=\"form-check\">\r\n            <input  class=\"form-check-input\" \r\n                    type=\"checkbox\" \r\n                    id=\"checkboxRemember\">\r\n            <label  class=\"form-check-label\" \r\n                    for=\"checkboxRemember\">\r\n                    save login</label>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-4\">\r\n        <div class=\"col-12\">\r\n          <button type=\"button\" \r\n                  class=\"btn btn-primary w-100\" \r\n                  id=\"buttonSubmit\">\r\n                  Log in</button>\r\n        </div>\r\n      </div>\r\n      <div  class=\"alert alert-danger mt-2 d-none\" \r\n            role=\"alert\" \r\n            id=\"alertMessage\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-login.html?");

/***/ }),

/***/ "./src/p-login.js":
/*!************************!*\
  !*** ./src/p-login.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pLogin)\n/* harmony export */ });\n/* harmony import */ var _p_login_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./p-login.html */ \"./src/p-login.html\");\n\r\n\r\nclass pLogin {\r\n\r\n  #args = null;\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.innerHTML = _p_login_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n    //--------------------------------------------------\r\n    const textUsername      = this.#args.target.querySelector('#textUsername');\r\n    const textPassword      = args.target.querySelector('#textPassword');\r\n    // const checkboxRemember  = args.target.querySelector('#checkboxRemember');\r\n    const buttonSubmit      = args.target.querySelector('#buttonSubmit');\r\n\r\n    //--------------------------------------------------\r\n    // events\r\n    //--------------------------------------------------\r\n    // Enter key on password to trigger login\r\n    textPassword.addEventListener( 'keyup', (e) => {\r\n      if (e.key == 'Enter') {\r\n        this.#login();\r\n      }\r\n    });\r\n    // Click on button to trigger login\r\n    buttonSubmit.addEventListener( 'click', () => {\r\n      this.#login();\r\n    });\r\n\r\n    //--------------------------------------------------\r\n    // init\r\n    //--------------------------------------------------\r\n    const loginData = localStorage.getItem('programmier_bar-logindata');\r\n    if (loginData) {\r\n      const ld = JSON.parse(loginData);\r\n      textUsername.value = ld.loginName;\r\n    }\r\n  } // constructor\r\n\r\n  #login() {\r\n    const textUsername      = this.#args.target.querySelector('#textUsername');\r\n    const textPassword      = this.#args.target.querySelector('#textPassword');\r\n    const checkboxRemember  = this.#args.target.querySelector('#checkboxRemember');\r\n    const alertMessage      = this.#args.target.querySelector('#alertMessage');\r\n\r\n    alertMessage.classList.add('d-none');\r\n\r\n    // let d = new Date();\r\n    // let o = d.getTimezoneOffset() * 60000;\r\n    // let x = new Date(d.getTime() - o);\r\n    // let i = x.toISOString();\r\n\r\n    if (checkboxRemember.checked) {\r\n      const p = {\r\n        loginName: textUsername.value,\r\n        date: new Date().toISOString()\r\n      };\r\n      localStorage.setItem('programmier_bar-logindata', JSON.stringify(p));\r\n    }\r\n\r\n    // if (textUsername.value && textPassword.value) {\r\n    //   const loginData = new FormData();\r\n    //   loginData.append('username', textUsername.value);\r\n    //   loginData.append('password', textPassword.value);\r\n\r\n    //   // log out the pairs so you can see them in DevTools - for seeing username/password in browser console\r\n    //   for (const [key, val] of loginData.entries()) {\r\n    //     console.log(key, val);\r\n    //   }\r\n\r\n    //   //   this.#args.app.apiLogin((r) => {\r\n    //   //     if (r.success) {\r\n    //   //       localStorage.setItem('programmier_bar-token', r.loginToken);\r\n    //   //       this.#args.app.user = r.person;\r\n    //   //       window.open('#productlist', '_self');\r\n    //   //     } else {\r\n    //   //       alertMessage.innerText = r.message;\r\n    //   //       alertMessage.classList.remove('d-none');\r\n    //   //     }\r\n    //   //   }, (ex) => {\r\n    //   //     alert(ex);\r\n    //   //   }, loginData);\r\n    //   // }\r\n\r\n    //   if (textUsername.value && textPassword.value) {\r\n    //     const loginBody = new URLSearchParams();\r\n    //     loginBody.append('username', textUsername.value);\r\n    //     loginBody.append('password', textPassword.value);\r\n\r\n    //     this.#args.app.apiLogin((r) => {\r\n    //       if (r.success) {\r\n    //         this.#args.app.user = r.person;\r\n    //         // window.open('#productlist', '_self');\r\n    //         location.hash = 'productlist';\r\n    //       } else {\r\n    //         alertMessage.innerText = r.message;\r\n    //         alertMessage.classList.remove('d-none');\r\n    //       }\r\n    //     }, (ex) => {\r\n    //       alert(ex);\r\n    //     }, loginBody);\r\n    //   }\r\n    // }\r\n\r\n    if (textUsername.value && textPassword.value) {\r\n      const loginData = new FormData();\r\n      loginData.append('username', textUsername.value);\r\n      loginData.append('password', textPassword.value);\r\n\r\n      this.#args.app.apiLogin((r) => {\r\n        if (r.success) {\r\n          this.#args.app.user = r.person;\r\n          window.open('#productlist', '_self');\r\n          // location.hash = '#main';\r\n\r\n        } else {\r\n          alertMessage.innerText = r.message;\r\n          alertMessage.classList.remove('d-none');\r\n        }\r\n      }, (ex) => {\r\n        alert(ex);\r\n      }, loginData);\r\n    }\r\n\r\n\r\n    // // build URL-encoded body:\r\n    // const loginData = new URLSearchParams();\r\n    // loginData.append('username', textUsername.value);\r\n    // loginData.append('password', textPassword.value);\r\n\r\n    // // fetch will automatically send as application/x-www-form-urlencoded\r\n    // this.#args.app.apiLogin((r) => {\r\n    //   if (r.success) {\r\n    //     this.#args.app.user = r.person;\r\n    //     location.hash = 'productlist';\r\n    //   } else {\r\n    //     alertMessage.innerText = r.message;\r\n    //     alertMessage.classList.remove('d-none');\r\n    //   }\r\n    // }, (ex) => {\r\n    //   alert(ex);\r\n    // }, loginData);\r\n\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n} // class\r\n//\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-login.js?");

/***/ }),

/***/ "./src/p-main.html":
/*!*************************!*\
  !*** ./src/p-main.html ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container\" style=\"height: 100dvh;\">\t\r\n\t<div class=\"row mt-5\">\r\n\t\t<div class=\"col-12\">\r\n\t\t\t<h1 class=\"text-center text-light\">\r\n\t\t\t\tprogrammier_bar</h1>\r\n\t</div>\r\n\t<!-- <div class=\"row mt-5\">\r\n\t\t<div class=\"col-12 text-center\">\r\n\t\t\t<a  href=\"#login\" \r\n\t\t\tclass=\"btn btn-secondary btn-lg\">\r\n\t\t\tSign in</a>\r\n\t\t</div>\r\n\t</div> -->\r\n</div>\r\n\r\n<nav class=\"navbar navbar-expand-lg navbar-light bg-oase shadow-sm bg-otaku\">\r\n\t<div class=\"container\">\r\n\t\t<a  class=\"navbar-brand\" \r\n\t\t\t\thref=\"#\">\r\n\t\t<!-- <img src=\"./src/images/Otaku_Kingdom_transparent.png\" height=\"80px\" alt=\"\"> -->\r\n\t\t</a>\r\n\t<button class=\"navbar-toggler\" \r\n\t\t\t\t\ttype=\"button\" \r\n\t\t\t\t\tdata-bs-toggle=\"collapse\" \r\n\t\t\t\t\tdata-bs-target=\"#navbarContent\">\r\n\t\t<span class=\"navbar-toggler-icon\"></span>\r\n\t</button>\r\n\t<div \tclass=\"collapse navbar-collapse\"\r\n\t\t\t\tid=\"navbarContent\">\r\n\t\t<ul class=\"navbar-nav mb-2 mb-lg-0\">\t\r\n\t\t\t<li class=\"nav-item dropdown\">\r\n\t\t\t\t<a \tclass=\"nav-link dropdown-toggle\" \r\n\t\t\t\t\t\thref=\"#\" \r\n\t\t\t\t\t\trole=\"button\" \r\n\t\t\t\t\t\tdata-bs-toggle=\"dropdown\">\r\n\t\t\t\t\t\tScale</a>\r\n\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tNeon Gennesis Evangelion</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tDemon Slayer</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tAttack on Titan</a></li>\r\n\t\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t\t<li class=\"nav-item dropdown\">\r\n\t\t\t\t<a \tclass=\"nav-link dropdown-toggle\" \r\n\t\t\t\t\t\thref=\"#\" \r\n\t\t\t\t\t\trole=\"button\" \r\n\t\t\t\t\t\tdata-bs-toggle=\"dropdown\">\r\n\t\t\t\t\t\tPrize\r\n\t\t\t\t</a>\r\n\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tDemon Slayer</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tAttack on Titan</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tJujutsu Kaisen</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tSword art Online</a></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t\t<li class=\"nav-item dropdown\">\r\n\t\t\t\t<a \tclass=\"nav-link dropdown-toggle\" \r\n\t\t\t\t\t\thref=\"#\" \r\n\t\t\t\t\t\trole=\"button\" \r\n\t\t\t\t\t\tdata-bs-toggle=\"dropdown\">\r\n\t\t\t\t\t\tNendoroid \r\n\t\t\t\t</a>\r\n\t\t\t\t<ul class=\"dropdown-menu\">\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">\r\n\t\t\t\t\t\t\t\t\tHunter x Hunter</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">Jujutsu Kaisen</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">Demon Slayer</a></li>\r\n\t\t\t\t\t<li><a \tclass=\"dropdown-item\" \r\n\t\t\t\t\t\t\t\t\thref=\"#\">Attack on Titan</a></li>\r\n\t\t\t\t</ul>\r\n\t\t\t</li>\r\n\t\t\t<li class=\"nav-item dropdown\"></li>\r\n\t\t</ul>\r\n\t\t<form class=\"d-flex ms-auto me-3\" \r\n\t\t\t\t\trole=\"search\" \r\n\t\t\t\t\tonsubmit=\"return handleSearch(event)\">\r\n\t\t\t<input \tclass=\"form-control me-2\" \r\n\t\t\t\t\t\t\ttype=\"search\" \r\n\t\t\t\t\t\t\tplaceholder=\"Suchen...\" \r\n\t\t\t\t\t\t\taria-label=\"Search\" \r\n\t\t\t\t\t\t\tid=\"searchInput\">\r\n\t\t\t<button class=\"btn btn-light\" \r\n\t\t\t\t\t\t\ttype=\"submit\">\r\n\t\t\t\t\t\t\tSuchen</button>\r\n\t\t</form>\r\n\t</div>\r\n</nav>\r\n\r\n<p></p>\r\n<h1 class=\"zentriert\">\r\n\t\tWillkommen im Otaku Kingdom</h1>\r\n<p \tclass=\"zentriert\">\r\n\t\tUnser Königreich der Anime Figuren!</p>\r\n<p></p>\r\n\r\n<!-- Kategorien -->\r\n<div class=\"container mb-5\">\r\n\t<h2 class=\"mb-4\">\r\n\t\t\tUnsere Produkte</h2>\r\n\t<div class=\"row g-3\">\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card category-card\">\r\n\t\t\t\t<!-- <img src=\"././src/images/Screenshot 2024-12-30 165738.png\" class=\"card-img-top\" alt=\"Scale\"> -->\r\n\t\t\t\t<div class=\"card-body text-center\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tScale</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card category-card\">\r\n\t\t\t\t<!-- <img src=\"././src/images/Screenshot 2024-12-30 150438.png\" class=\"card-img-top\" alt=\"Prize\"> -->\r\n\t\t\t\t<div class=\"card-body text-center\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tPrize</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card category-card\">\r\n\t\t\t\t<!-- <img src=\"././src/images/Screenshot 2024-12-30 172450.png\" class=\"card-img-top\" alt=\"Nendoroid\"> -->\r\n\t\t\t\t<div class=\"card-body text-center\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tNendoroid</h5>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>\r\n\r\n<!-- Produktkarten -->\r\n<div class=\"container mb-5\">\r\n\t<h2 class=\"mb-4\">\r\n\t\t\tUnsere Highlights</h2>\r\n\t<div class=\"row g-4\">\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card product-card\">\r\n\t\t\t\t<div \tclass=\"price-sticker bg-otaku text-black px-2 py-1 position-absolute top-0 end-0 m-2 rounded\">\r\n\t\t\t\t\t\t\t€34,90</div>\r\n\t\t\t\t<!-- <img src=\"././src/images/Screenshot 2024-12-21 195049.png\" class=\"card-img-top\" alt=\"Megumi Fushiguro\"> -->\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tMegumi Fushiguro - Jujutsu Kaisen - Combination Battle</h5>  \r\n\t\t\t\t\t<p \tclass=\"card-text\">\r\n\t\t\t\t\t\t\tMarke: Banpresto</p>          \r\n\t\t\t\t\t<button class=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tIn den Warenkorb</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<!-- Weitere Produktkarten (duplizieren bei Bedarf) -->\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card product-card\">\r\n\t\t\t\t<div \tclass=\"price-sticker bg-otaku text-black px-2 py-1 position-absolute top-0 end-0 m-2 rounded\">\r\n\t\t\t\t\t\t\t€34,90</div>\r\n\t\t\t\t<!-- <img src=\"././src/images/Screenshot 2024-12-22 202658.png\" class=\"card-img-top\" alt=\"Sukuna\"> -->\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tSukuna - Jujutsu Kaisen - Combination Battle </h5>\r\n\t\t\t\t\t<p class=\"card-text\">\r\n\t\t\t\t\t\t\tMarke: Banpresto</p>\r\n\t\t\t\t\t<button class=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tIn den Warenkorb</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card product-card\">\r\n\t\t\t\t<div \tclass=\"price-sticker bg-otaku text-black px-2 py-1 position-absolute top-0 end-0 m-2 rounded\">\r\n\t\t\t\t\t\t\t€249,90</div>\r\n\t\t\t\t<!-- <img src=\"././src/images/x_mth92271.jpg\" class=\"card-img-top\" alt=\"Mermaid\"> -->\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tAnother Little Mermaid - FairyTale </h5>\r\n\t\t\t\t\t<p \tclass=\"card-text\">\r\n\t\t\t\t\t\t\tMarke: Myethos</p>\r\n\t\t\t\t\t<button class=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tIn den Warenkorb</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"col-md-3\">\r\n\t\t\t<div class=\"card product-card\">\r\n\t\t\t\t<div \tclass=\"price-sticker bg-otaku text-black px-2 py-1 position-absolute top-0 end-0 m-2 rounded\">\r\n\t\t\t\t\t\t\t€79,90</div>\r\n\t\t\t\t<!-- <img src=\"././src/images/Screenshot 2024-12-30 172120.png\" class=\"card-img-top\" alt=\"Jinx\"> -->\r\n\t\t\t\t<div class=\"card-body\">\r\n\t\t\t\t\t<h5 class=\"card-title\">\r\n\t\t\t\t\t\t\tNendoroid 2678 Jinx - Arcane (ARCANE Ver.)</h5>\r\n\t\t\t\t\t<p \tclass=\"card-text\">\r\n\t\t\t\t\t\t\tMarke: Good Smile Company</p>\r\n\t\t\t\t\t<button class=\"btn btn-primary w-100\">\r\n\t\t\t\t\t\t\t\t\tIn den Warenkorb</button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-main.html?");

/***/ }),

/***/ "./src/p-main.js":
/*!***********************!*\
  !*** ./src/p-main.js ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pMain)\n/* harmony export */ });\n/* harmony import */ var _p_main_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./p-main.html */ \"./src/p-main.html\");\n\r\n\r\nclass pMain {\r\n\r\n  constructor(args) {\r\n    args.target.innerHTML = _p_main_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"]; \r\n  }\r\n}\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-main.js?");

/***/ }),

/***/ "./src/p-person-detail.html":
/*!**********************************!*\
  !*** ./src/p-person-detail.html ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Imports\nvar ___HTML_LOADER_IMPORT_0___ = new URL(/* asset import */ __webpack_require__(/*! ./images/login-pic.png */ \"./src/images/login-pic.png\"), __webpack_require__.b);\n// Module\nvar code = `<div \tclass=\"container\" \r\n\t\t\tstyle=\"padding-bottom: 60px;\">\r\n  <div class=\"row border-bottom border-2\">\r\n    <div class=\"col-12\">\r\n      <h1>User's Details</h1>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-3\">\r\n    <div class=\"col-12 col-lg-4 d-flex justify-content-center align-items-center\">\r\n      <img  src=\"${___HTML_LOADER_IMPORT_0___}\" \r\n            alt=\"ProfilePic\" \r\n            style=\"max-height: 270px; max-width: 250px; object-fit: contain;\" \r\n            id=\"imgPic\" \r\n            data-pic=\"nothing\" />\r\n      <input \ttype=\"file\" \r\n\t\t\t\t\t\t\tid=\"filePic\" \r\n\t\t\t\t\t\t\tclass=\"d-none\" \r\n\t\t\t\t\t\t\taccept=\"image/*\" />\r\n    </div>\r\n    <div class=\"col-12 col-lg-8 mt-3 mt-lg-0\">\r\n      <div class=\"row\">\r\n        <div class=\"col-12 col-lg-6\">\r\n          <label  for=\"textTitlePre\">\r\n                  Title</label>\r\n          <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tid=\"textTitlePre\" \r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"acad. Grade set first\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-12\">\r\n          <label  for=\"textForename\">\r\n                  Forename</label>\r\n          <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tid=\"textForename\" \r\n                  class=\"form-control\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-12\">\r\n          <label  for=\"textSurname\">\r\n                  textSurname</label>\r\n          <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tid=\"textSurname\" \r\n                  class=\"form-control\" />\r\n        </div>\r\n      </div>\r\n      <div class=\"row mt-2\">\r\n        <div class=\"col-12 col-lg-6\">\r\n          <label  for=\"textTitlePost\">\r\n                  Title</label>\r\n          <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\tid=\"textTitlePost\" \r\n\t\t\t\t\t\t\t\t\tclass=\"form-control\" \r\n\t\t\t\t\t\t\t\t\tplaceholder=\"acad. Grade set last\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-3 border-top border-wifi pt-2\">\r\n    <div class=\"col-12 col-lg-4\">\r\n      <label  for=\"numberDigit\">\r\n              Number</label>\r\n      <input \ttype=\"number\" \r\n\t\t\t\t\t\t\tid=\"numberDigit\" \r\n\t\t\t\t\t\t\tclass=\"form-control\" \r\n              readonly />\r\n    </div>\r\n    <div class=\"col-12 col-lg-4 mt-2 mt-lg-0\">\r\n      <label  for=\"textLoginName\">\r\n              Login Name</label>\r\n      <input \ttype=\"text\"  \r\n\t\t\t\t\t\t\tid=\"textLoginName\" \r\n\t\t\t\t\t\t\tclass=\"form-control\" />\r\n    </div>\r\n    <div class=\"col-12 col-lg-4 mt-2 mt-lg-0\">\r\n      <label  for=\"passwordPassword\">\r\n              Password</label>\r\n      <input \ttype=\"password\"  \r\n\t\t\t\t\t\t\tid=\"passwordPassword\" \r\n\t\t\t\t\t\t\tclass=\"form-control\" />\r\n    </div>\r\n  </div>\r\n  <div \tclass=\"row mt-3 d-none\" \r\n\t\t\t\tid=\"rowAdmin\">\r\n    <div class=\"col-12 col-lg-6\">\r\n      <label  for=\"selectRole\">\r\n              Role</label>\r\n      <select id=\"selectRole\" \r\n\t\t\t\t\t\t\tclass=\"form-select\">\r\n        <option value=\"0\">\r\n                Standard</option>\r\n        <option value=\"1\">\r\n                Disponent</option>\r\n        <option value=\"2\">\r\n                Administration</option>\r\n      </select>\r\n    </div>\r\n    <div class=\"col-12 col-lg-6 mt-3 mt-lg-0\">\r\n      <label  for=\"textLoginLast\">\r\n              last Login</label>\r\n      <input \ttype=\"text\" \r\n\t\t\t\t\t\t\tclass=\"form-control\" \r\n\t\t\t\t\t\t\tid=\"textLoginLast\" readonly />\r\n    </div>\r\n  </div>\r\n      <!-- <video \tid=\"player\" \r\n\t\t\t\t\t\t\tautoplay></video>\r\n      <canvas id=\"canvas\" \r\n\t\t\t\t\t\t\twidth=\"320px\" \r\n\t\t\t\t\t\t\theight=\"240px\"></canvas>\r\n      <button class=\"btn btn-primary\" \r\n\t\t\t\t\t\t\tid=\"capture-button\">\r\n              Take Photo</button> -->\r\n</div>\r\n<div class=\"fixed-bottom py-2 bg-wifi\">\r\n  <div class=\"position-relative\">\r\n    <div class=\"container\">\r\n      <div class=\"d-flex align-items-center\">\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\" \r\n\t\t\t\t\t\t\t\tid=\"buttonSave\">\r\n\t\t\t\t\t\t\t\t<i class=\"bi-floppy me-2\"></i>\r\n\t\t\t\t\t\t\t\t    Save</button>\r\n        <div \tclass=\"alert alert-success ms-4 mb-0 px-4 py-1 d-none\" \r\n\t\t\t\t\t\t\tid=\"alertMessage\">\r\n              Successfully saved</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div \tclass=\"toast-container position-fixed bottom-0 end-0 \" \r\n\t\t\tstyle=\"padding: 0 3rem 60px 0;\">\r\n  <div \tid=\"toastAlert\" \r\n\t\t\t\tclass=\"toast\" \r\n\t\t\t\trole=\"alert\" \r\n\t\t\t\taria-live=\"assertive\" \r\n\t\t\t\taria-atomic=\"true\">\r\n    <div class=\"toast-header\">\r\n      <strong class=\"me-auto\">\r\n              Save</strong>\r\n      <button type=\"button\" \r\n\t\t\t\t\t\t\tclass=\"btn-close\" \r\n\t\t\t\t\t\t\tdata-bs-dismiss=\"toast\" \r\n\t\t\t\t\t\t\taria-label=\"Close\"></button>\r\n    </div>\r\n    <div class=\"toast-body\">\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-person-detail.html?");

/***/ }),

/***/ "./src/p-person-detail.js":
/*!********************************!*\
  !*** ./src/p-person-detail.js ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pPersonDetail)\n/* harmony export */ });\n/* harmony import */ var _p_person_detail_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./p-person-detail.html */ \"./src/p-person-detail.html\");\n// import bootstrap from  './../node_modules/bootstrap/dist/js/bootstrap.bundle';\r\n\r\n\r\n\r\n\r\nclass pPersonDetail{\r\n  //======================================================================================================================================\r\n  #args = null;\r\n  //======================================================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.innerHTML = _p_person_detail_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n    //------------------------------------------------------------\r\n    const filePic = args.target.querySelector('#filePic');\r\n    const imgPic = args.target.querySelector('#imgPic');\r\n    const textTitlePre = args.target.querySelector('#textTitlePre');\r\n    const textForename = args.target.querySelector('#textForename');\r\n    const textSurname = args.target.querySelector('#textSurname');\r\n    const textTitlePost = args.target.querySelector('#textTitlePost');\r\n    const numberDigit = args.target.querySelector('#numberDigit');\r\n    const textLoginName = args.target.querySelector('#textLoginName');\r\n    const passwordPassword = args.target.querySelector('#passwordPassword');\r\n    const buttonSave = args.target.querySelector('#buttonSave');\r\n\r\n    this.video = document.getElementById('player');\r\n    this.canvas = document.getElementById('canvas');\r\n    this.capture = document.getElementById('capture-button');\r\n\r\n    const rowAdmin = args.target.querySelector('#rowAdmin');\r\n    const selectRole = args.target.querySelector('#selectRole');\r\n    const textLoginLast = args.target.querySelector('#textLoginLast');\r\n\r\n    const alertMessage = args.target.querySelector('#alertMessage');\r\n\r\n\r\n    let person = null;\r\n\r\n\r\n    //------------------------------------------------------------\r\n    // events\r\n    //------------------------------------------------------------\r\n    imgPic.addEventListener( 'click', () => {\r\n      filePic.click();\r\n    });\r\n\r\n    imgPic.addEventListener( 'dragover', (e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      e.dataTransfer.dropEffect = 'copy';\r\n    });  \r\n\r\n    imgPic.addEventListener( 'drop', (e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n        this.#picRead(e.dataTransfer.files[0]);\r\n      }\r\n    });\r\n\r\n\r\n    filePic.addEventListener( 'change', (e) => {\r\n      this.#picRead(filePic.files[0]);\r\n    });\r\n\r\n\r\n    buttonSave.addEventListener( 'click', () => {\r\n      // reset/hide the alert\r\n      alertMessage.classList.remove('alert-success','alert-danger');\r\n      alertMessage.classList.add('d-none');\r\n\r\n      if (!person) {\r\n        person = {\r\n          // personId: null\r\n        };\r\n      }\r\n\r\n      person.personId = person.personId ?? args.id ? parseInt(args.id) : null;\r\n\r\n      // person.titlePre = textTitlePre.value ? textTitlePre.value : null;\r\n      person.titlePre = textTitlePre.value || '';\r\n      person.forename = textForename.value ? textForename.value : null;\r\n      person.surname = textSurname.value ? textSurname.value : null;\r\n      // person.titlePost = textTitlePost.value ? textTitlePost.value : null;\r\n      person.titlePost = textTitlePost.value || '';\r\n      person.digit = numberDigit.value ? parseInt(numberDigit.value) : null;\r\n      person.loginName = textLoginName.value ? textLoginName.value   : null;\r\n      // person.passwordPassword = passwordPassword.value || '';\r\n      person.roleNumber = parseInt(selectRole.value);\r\n\r\n      person.roleText = selectRole.options[selectRole.selectedIndex]?.text || '';\r\n      // person.loginToken = person.loginToken || ''; // required but empty is fine\r\n\r\n      if (passwordPassword.value && passwordPassword.value != '##########') person.password = passwordPassword.value;\r\n      person.picType = person.picType || 'image/png'; // fallback if none\r\n      // if (imgPic.dataset.pic == 'ok') person.picStr = imgPic.src;\r\n      if (!person.picString && imgPic.src && imgPic.src.startsWith('data:')) {\r\n        person.picString = imgPic.src;\r\n        imgPic.dataset.pic = 'ok';\r\n      }\r\n\r\n      args.app.apiSet((r) => {\r\n        // display the message in the bottom‐bar alert\r\n        alertMessage.innerText = r.message;\r\n        if (r.success) {\r\n          person = r.person;\r\n          alertMessage.classList.remove('d-none');\r\n          alertMessage.classList.add('alert-success');\r\n          setTimeout(() => alertMessage.classList.add('d-none'), 3000);\r\n        } else {\r\n          alertMessage.classList.remove('d-none');\r\n          alertMessage.classList.add('alert-danger');\r\n          setTimeout(() => alertMessage.classList.add('d-none'), 10000);\r\n        }\r\n      }, (ex) => {\r\n        alertMessage.innerText = ex;\r\n        alertMessage.classList.remove('d-none');\r\n        alertMessage.classList.add('alert-danger');\r\n      }, '/person', person.personId, person);\r\n\r\n    });\r\n\r\n    //------------------------------------------------------------\r\n    // init\r\n    //------------------------------------------------------------\r\n    if (args.app.user.roleNumber == 2) {\r\n      rowAdmin.classList.remove('d-none');\r\n      numberDigit.readOnly = false;\r\n    }\r\n\r\n\r\n    if (args.id) {\r\n      args.app.apiGet((r) => {\r\n        person = r;\r\n\r\n        // if (person.picString) {\r\n        //   imgPic.src = person.picString;\r\n        //   imgPic.dataset.pic = 'ok';\r\n        // }\r\n        if (imgPic.dataset.pic === 'ok' && imgPic.src && imgPic.src.startsWith('data:image/')) {\r\n          person.picString = imgPic.src;\r\n        }\r\n        textTitlePre.value = person.titlePre ?  person.titlePre : '';\r\n        textForename.value = person.forename ? person.forename : '';\r\n        textSurname.value = person.surname ? person.surname : '';\r\n        textTitlePost.value = person.titlePost ?  person.titlePost : '';\r\n        numberDigit.value = person.digit ? person.digit : '';\r\n        textLoginName.value = person.loginName ? person.loginName : '';\r\n        selectRole.value = person.roleNumber ? person.roleNumber : '0';\r\n        textLoginLast.value = person.loginLast ? args.app.formatDate(person.loginLast) : 'never';\r\n\r\n        if (person.passwordSet) passwordPassword.value = '##########';\r\n\r\n      }, (ex) =>  {\r\n        alert(ex);\r\n      }, '/person/' + args.id);\r\n\r\n    }\r\n    // this.initializeMedia();\r\n\r\n\r\n    //------------------------------------------------------------\r\n    //------------------------------------------------------------\r\n  } // constructor\r\n\r\n  //======================================================================================================================================\r\n  // private methods\r\n  //======================================================================================================================================\r\n  #picRead(data) {\r\n    const imgPic = this.#args.target.querySelector('#imgPic');\r\n    const reader = new FileReader();\r\n    reader.onload = (r) => {\r\n      imgPic.src = r.target.result;\r\n    };\r\n    reader.readAsDataURL(data);\r\n    imgPic.dataset.pic = 'ok';\r\n  }\r\n\r\n  initializeMedia() {\r\n    if (!('mediaDevices' in navigator)) {\r\n      navigator.mediaDevices = {};\r\n    }\r\n\r\n    if (!('getUserMedia' in navigator.mediaDevices)) {\r\n      navigator.mediaDevices.getUserMedia = function(constraints) {\r\n        var getUserMedia = navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\r\n\r\n        if (!getUserMedia) {\r\n          return Promise.reject(new Error('getUserMedia is not implemented!'));\r\n        }\r\n\r\n        return new Promise(function(resolve, reject) {\r\n          getUserMedia.call(navigator, constraints, resolve, reject);\r\n        });\r\n      };\r\n    }\r\n\r\n    navigator.mediaDevices.getUserMedia({ video: true, audio: false})\r\n      .then(stream => {\r\n        this.video.srcObject = stream;\r\n      })\r\n      .catch(err => {\r\n        console.log(err.message);\r\n      });\r\n\r\n    this.capture.addEventListener('click', event => {\r\n      // this.canvas.style.display = 'none';\r\n      // canvas.getContext('2d').drawImage(this.video, 0, 0, this.canvas.width, this.canvas.height);\r\n      // this.video.srcObject.getVideoTracks().forEach(track => {\r\n      //   track.stop();\r\n      // });\r\n\r\n      const dataUrl = this.canvas.toDataURL();\r\n      //this.picture = dataURItoBlob(dataUrl);\r\n      console.log('Picture', dataUrl);\r\n\r\n      const imgPic = this.#args.target.querySelector('#imgPic');\r\n      imgPic.src = dataUrl;\r\n      imgPic.dataset.pic = 'ok';\r\n      }\r\n    );\r\n  }\r\n}\r\n\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-person-detail.js?");

/***/ }),

/***/ "./src/p-person-list.html":
/*!********************************!*\
  !*** ./src/p-person-list.html ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container\">\r\n  <div class=\"row border-bottom border-2\">\r\n    <div class=\"col-12\">\r\n      <h1>List of Users</h1>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-3\">\r\n    <div class=\"col-12\">\r\n      <table  class=\"table table-bordered table-striped table-hover\" \r\n              id=\"tablePerson\">\r\n        <thead>\r\n          <tr>\r\n            <th style=\"width:8rem;\">\r\n              <a \thref=\"#persondetail\" \r\n\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t<i  class=\"bi-plus me-2\"></i>\r\n\t\t\t\t\t\t\t\t\t    New</a>\r\n            </th>\r\n            <th>Name</th>\r\n            <th>Role</th>\r\n            <th>Username</th>\r\n            <th>Logged in since:</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody></tbody>\r\n      </table>\r\n      <!-- <button class=\"btn btn-primary\" \r\n\t\t\t\t\t\t\tid=\"registerButton\">\r\n\t\t\t\t\t\t\tRegister for receiving Push-Notifications</button> -->\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-person-list.html?");

/***/ }),

/***/ "./src/p-person-list.js":
/*!******************************!*\
  !*** ./src/p-person-list.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pPersonList)\n/* harmony export */ });\n/* harmony import */ var _p_person_list_html__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./p-person-list.html */ \"./src/p-person-list.html\");\n\r\n\r\nclass pPersonList {\r\n\r\n  constructor(args) {\r\n    args.target.innerHTML = _p_person_list_html__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n\r\n    //-----------------------------------------------------------------------------\r\n    const tablePerson = args.target.querySelector('#tablePerson>tbody');\r\n    // const registerButton = args.target.querySelector('#registerButton');\r\n\r\n    let personList = null;\r\n\r\n    //-----------------------------------------------------------------------------\r\n    // events\r\n    //-----------------------------------------------------------------------------\r\n    tablePerson.addEventListener( 'click', (e) => {\r\n      let btn = null;\r\n      let tr = e.target;\r\n\r\n      while (tr.nodeName != 'TR' && tr.parentElement) tr = tr.parentElement;\r\n      if (e.target.nodeName == 'I' && e.target.parentElement.nodeName == 'BUTTON') btn = e.target.parentElement;\r\n      else if (e.target.nodeName == 'BUTTON') btn = e.target;\r\n      \r\n      if (btn) {\r\n        const person = personList.filter( p => p.personId == btn.dataset.id)[0];\r\n        if (confirm('Are you sure you want to delete ' + person.surname + ' ' + person.forename + ' ?')) {\r\n          args.app.apiDelete((r) => {\r\n            if (r.success) tr.remove();\r\n          }, (ex) => {\r\n            alert(ex);\r\n          }, '/person/' + person.personId);\r\n        }\r\n      } else {\r\n        if (tr && tr.dataset.id) {\r\n          window.open('#persondetail?id=' + tr.dataset.id, '_self');\r\n        }\r\n      }\r\n\r\n    });\r\n\r\n  // registerButton.addEventListener('click', (e) => { \r\n  //   this.askForNotificationPermission();\r\n  // });\r\n    \r\n    //-----------------------------------------------------------------------------\r\n    // init\r\n    //-----------------------------------------------------------------------------\r\n    args.app.apiGet((pl) => {\r\n      personList = pl;\r\n      let html = '';\r\n      for (const p of pl) {\r\n        html += `\r\n          <tr data-id=\"${p.personId}\">\r\n            <td>\r\n              <button type=\"button\" class=\"btn btn-secondary\" data-aktion=\"del\" data-id=\"${p.personId}\"><i class=\"bi-trash3\"></i></button>\r\n            </td>\r\n            <td class=\"element-clickable\">\r\n              ${(p.picString \r\n              ? `\r\n                <div class=\"d-flex flex-row align-items-center\">\r\n                  <div>\r\n                    <img src=\"${p.picString}\" style=\"max-width: 6rem; max-height:5rem;\" title=\"profilepic\" />\r\n                  </div>\r\n                  <div class=\"p-2\">\r\n                    ${p.surname} ${p.forename} ${p.titlePre} ${p.titlePost}\r\n                  </div>\r\n                </div>\r\n              `\r\n              : `${p.surname} ${p.forename} ${p.titlePre} ${p.titlePost}`)}\r\n              \r\n            </td>\r\n            <td class=\"element-clickable\">${p.roleText}</td>\r\n            <td class=\"element-clickable\">${p.loginName}</td>\r\n            <td class=\"element-clickable\">${(p.loginLast ? args.app.formatDate(p.loginLast) : '')}</td>\r\n          </tr>\r\n        `;\r\n      }\r\n\r\n      tablePerson.innerHTML  = html;\r\n    }, (ex) =>  {\r\n      alert(ex);\r\n    }, '/person');\r\n\r\n    //-----------------------------------------------------------------------------\r\n    //-----------------------------------------------------------------------------\r\n  } // constructor\r\n\r\n  // askForNotificationPermission() {\r\n  //   Notification.requestPermission(result => {\r\n  //     console.log('User Choice', result);\r\n  //     if (result !== 'granted') {\r\n  //       console.log('No notification permission granted!');\r\n  //     } else {\r\n  //       //this.displayConfirmNotification();\r\n  //       this.configurePushsubscription();\r\n  //     }\r\n  //   });\r\n  // }\r\n\r\n  // displayConfirmNotification() {\r\n  //     //const options = { body: \"Hello World!\" };\r\n  //     const options = {\r\n  //       body: 'hello world! You successfully subscribed to our Notification service!',\r\n  //       icon: 'images/icons/icon-96x96.png',\r\n  //       image: 'images/icons/icon-284x284.png',\r\n  //       dir: 'ltr',\r\n  //       lang: 'en-US', // BCP 47\r\n  //       vibrate: [100, 50, 200],\r\n  //       badge: 'images/icons/icon-96x96.png',\r\n  //       tag: 'confirm-notification',\r\n  //       renotify: true,\r\n  //       //only works via service worker\r\n  //       actions: [\r\n  //         { action: 'confirm', title: 'Okay', icon: 'images/icons/icon-96x96.png' },\r\n  //         { action: 'cancel', title: 'Cancel', icon: 'images/icons/icon-96x96.png' }\r\n  //       ]\r\n  //     };\r\n\r\n  //     if ('serviceWorker' in navigator) {\r\n  //       navigator.serviceWorker.ready\r\n  //         .then(sw => {\r\n  //           sw.showNotification('Successfully subscribed!', options);\r\n  //         });\r\n  //     }\r\n\r\n  //     if (\"Notification\" in window) {\r\n  //       if (Notification.permission === \"granted\") {\r\n  //         new Notification('Successfully subscribed!', options);\r\n  //       } else if (Notification.permission !== \"denied\") {\r\n  //         Notification.requestPermission().then(permission => {\r\n  //           if (permission === \"granted\") {\r\n  //             new Notification('Successfully subscribed!', options);\r\n  //           }\r\n  //         });\r\n  //       }\r\n  //     }\r\n  // }\r\n  \r\n  // configurePushsubscription() {\r\n  //   if (!('serviceWorker' in navigator)) {\r\n  //     return;\r\n  //   }\r\n  //   var swRegistration;\r\n  //   navigator.serviceWorker.ready\r\n  //     .then(function(sw) {\r\n  //       swRegistration = sw;\r\n  //       return swRegistration.pushManager.getSubscription();\r\n  //     })\r\n  //     .then(function(subscription) {\r\n  //       if (subscription === null) {\r\n  //         //npm install web-push -g\r\n  //         //web-push generate-vapid-keys --json\r\n\r\n  //         var vapidPublicKey = 'BPw7nh5L8xTcDDFiC012p4vZRIpR3Mh4afWEG-J0_6WJd6TLQH8tUHSQvw95wJDyZmTd2Gq61Y7KQionB2hRz5k';\r\n  //         var convertedVapidPublicKey = urlBase64ToUint8Array(vapidPublicKey);\r\n  //         swRegistration.pushManager.subscribe({\r\n  //           userVisibleOnly: true,\r\n  //           applicationServerKey: convertedVapidPublicKey\r\n  //         }).then(function(newSubscription) {\r\n  //           //post to backend and save subscription\r\n            \r\n  //           console.log(JSON.stringify(newSubscription));\r\n  //         });\r\n  //       } else {\r\n  //         //use existing subscription\r\n  //         //backend: is registration correct?\r\n  //         console.log(JSON.stringify(subscription));\r\n  //       }\r\n  //     });\r\n  \r\n  //     function urlBase64ToUint8Array(base64String) {\r\n  //       const padding = '='.repeat((4 - (base64String.length % 4)) % 4);\r\n  //       const base64 = (base64String + padding).replace(/-/g, '+').replace(/_/g, '/');\r\n  //       const rawData = window.atob(base64);\r\n  //       const outputArray = new Uint8Array(rawData.length);\r\n\r\n  //       for (let i = 0; i < rawData.length; ++i) {\r\n  //         outputArray[i] = rawData.charCodeAt(i);\r\n  //       }\r\n\r\n  //       return outputArray;\r\n  //     }\r\n  //   }\r\n\r\n\r\n  //===================================================================================================================================\r\n  //===================================================================================================================================\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-person-list.js?");

/***/ }),

/***/ "./src/p-product-detail.html":
/*!***********************************!*\
  !*** ./src/p-product-detail.html ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div \tclass=\"container\" \r\n\t\t\tstyle=\"padding-bottom: 40px;\">\r\n  <div class=\"row border-bottom border-2\">\r\n    <div class=\"col-12\">\r\n      <h1>Product's Details</h1>\r\n    </div>\r\n  </div>\r\n  <div class=\"row mt-3\">\r\n    <div \tclass=\"col-12 col-lg-3\" \r\n\t\t\t\t\tid=\"colCategoryTreeview\">\r\n          Place for Category Treeview\r\n    </div>\r\n    <div class=\"col-12 col-lg-9\">\r\n      <div \tclass=\"accordion accordion-flush\" \r\n\t\t\t\t\t\tid=\"accordionProduct\">\r\n        <div class=\"accordion-item\">\r\n          <h2 class=\"accordion-header\">\r\n            <button class=\"accordion-button collapsed\" \r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-target=\"#collapseOne\" \r\n\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\" \r\n\t\t\t\t\t\t\t\t\t\taria-controls=\"collapseOne\">\r\n                    Product Credentials\r\n            </button>\r\n          </h2>\r\n          <div \tid=\"collapseOne\" \r\n\t\t\t\t\t\t\t\tclass=\"accordion-collapse collapse\">\r\n            <div class=\"accordion-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\">\r\n                  <label  for=\"textCharcode\">\r\n                          Charcode</label>\r\n                </div>\r\n                <div class=\"col-12 col-md-8 col-lg-6\">\r\n                  <input  type=\"text\" \r\n                          id=\"textCharcode\" \r\n                          class=\"form-control\" />\r\n                </div>\r\n              </div>\r\n              <div class=\"row mt-2\">\r\n                <div class=\"col-12 col-md-4 col-lg-3 pt-md-2 text-md-end\">\r\n                  <label  for=\"textName\">\r\n                          Product Name</label>\r\n                </div>\r\n                <div class=\"col-12 col-md-8 col-lg-9\">\r\n                  <input \ttype=\"text\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"textName\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"form-control\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div \tclass=\"accordion-item\" \r\n\t\t\t\t\t\t\tid=\"accordionItem2\">\r\n          <h2 class=\"accordion-header\">\r\n            <button class=\"accordion-button collapsed\" \r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-target=\"#collapseTwo\" \r\n\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\" \r\n\t\t\t\t\t\t\t\t\t\taria-controls=\"collapseTwo\">\r\n                    Stock Entries\r\n            </button>\r\n          </h2>\r\n          <div \tid=\"collapseTwo\" \r\n\t\t\t\t\t\t\t\tclass=\"accordion-collapse collapse\">\r\n            <div class=\"accordion-body\">\r\n              <div class=\"row\">\r\n                <div class=\"col-6\">\r\n                  <button type=\"button\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-success w-100\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"buttonStockPlus\">\r\n\t\t\t\t\t\t\t\t\t\t<i  class=\"bi-plus-circle me-2\"></i>\r\n\t\t\t\t\t\t\t\t\t\t    Stock</button>\r\n                </div>\r\n                <div class=\"col-6\">\r\n                  <button type=\"button\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-danger w-100\" \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"buttonStockMinus\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<i  class=\"bi-dash-circle me-2\"></i>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t    Stock</button>\r\n                </div>\r\n              </div>\r\n              <div \tclass=\"overflow-y-scroll\" \r\n\t\t\t\t\t\t\t\t\t\tstyle=\"max-height: 18rem;\">\r\n                <table \tclass=\"table table-striped table-hover\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"tableStock\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th class=\"sticky-top\">Date</th>\r\n                      <th class=\"sticky-top\">Amount</th>\r\n                      <th class=\"sticky-top\">Note</th>\r\n                      <th class=\"sticky-top\">Person</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody></tbody>\r\n                </table>\r\n              </div>\r\n              <div class=\"row mt-2\">\r\n                <div class=\"col-12 border-top border-2\">\r\n                  <span>Sum:</span>\r\n                  <span class=\"fs-5\" \r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"infoSum\"></span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div  class=\"accordion-item\"\r\n              id=\"accordionItem3\">\r\n          <h2 class=\"accordion-header\">\r\n            <button class=\"accordion-button collapsed\" \r\n\t\t\t\t\t\t\t\t\t\ttype=\"button\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-toggle=\"collapse\" \r\n\t\t\t\t\t\t\t\t\t\tdata-bs-target=\"#collapseThree\" \r\n\t\t\t\t\t\t\t\t\t\taria-expanded=\"false\" \r\n\t\t\t\t\t\t\t\t\t\taria-controls=\"collapseThree\">\r\n                    File(s)\r\n            </button>\r\n          </h2>\r\n          <div \tid=\"collapseThree\" \r\n\t\t\t\t\t\t\t\tclass=\"accordion-collapse collapse\">\r\n            <div class=\"accordion-body\">\r\n              <input \ttype=\"file\" \r\n\t\t\t\t\t\t\t\t\t\t\tclass=\"d-none\" \r\n\t\t\t\t\t\t\t\t\t\t\tname=\"\" \r\n\t\t\t\t\t\t\t\t\t\t\tid=\"fileFiledata\" \r\n\t\t\t\t\t\t\t\t\t\t\tmultiple accept=\"application/pdf, image/bmp, image/jpeg, image/png\" />\r\n              <div \tclass=\"row element-clickable\" \r\n\t\t\t\t\t\t\t\t\t\tid=\"rowFiledata\">\r\n                <div \tclass=\"col-12 text-center p-3\" \r\n\t\t\t\t\t\t\t\t\t\t\tstyle=\"border: 2px dashed; border-radius:1rem;\">\r\n                      <i  class=\"bi-upload me-2\"></i>\r\n\t\t\t\t\t\t\t\t\t        Insert file(s) per Drag&Drop or just click\r\n                </div>\r\n              </div>\r\n              <div class=\"row mt-3\" >\r\n                <div class=\"col-12\">\r\n                  <div id=\"containerFiledata\">\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"fixed-bottom py-2\">\r\n  <div class=\"position-relative\">\r\n    <div class=\"container\">\r\n      <div class=\"d-flex align-items-center\">\r\n        <button type=\"button\" \r\n\t\t\t\t\t\t\t\tclass=\"btn btn-secondary\" \r\n\t\t\t\t\t\t\t\tid=\"buttonSave\">\r\n\t\t\t\t\t\t\t\t<i  class=\"bi-floppy me-2\"></i>\r\n\t\t\t\t\t\t\t\t    Save</button>\r\n        <div \tclass=\"alert alert-success ms-4 mb-0 px-4 py-1 d-none\" \r\n\t\t\t\t\t\t\tid=\"alertMessage\">\r\n\t\t\t\t\t\t\tSuccessfully saved</div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-product-detail.html?");

/***/ }),

/***/ "./src/p-product-detail.js":
/*!*********************************!*\
  !*** ./src/p-product-detail.js ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pProductDetail)\n/* harmony export */ });\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! bootstrap/dist/js/bootstrap.bundle */ \"./node_modules/bootstrap/dist/js/bootstrap.bundle.js\");\n/* harmony import */ var bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _components_dialogues_d_stock__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./components/dialogues/d-stock */ \"./src/components/dialogues/d-stock.js\");\n/* harmony import */ var _p_product_detail_html__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./p-product-detail.html */ \"./src/p-product-detail.html\");\n/* harmony import */ var _components_category_treeview_category_tree__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./components/category-treeview/category-tree */ \"./src/components/category-treeview/category-tree.js\");\n// import 'bootstrap/dist/js/bootstrap.bundle';\r\n// import 'bootstrap/dist/js/bootstrap.bundle';\r\n\r\n\r\n// import './../bootstrap/dist/js/bootstrap.bundle';\r\n// import 'bootstrap/dist/js/bootstrap';\r\n// import './../node_modules/bootstrap/dist/js/bootstrap.bundle';\r\n\r\n\r\n\r\n\r\n\r\n\r\nclass pProductDetail {\r\n  //================================================================================================\r\n  #args = null;\r\n  #categoryTree = null;\r\n  // #networkDataReceived = false;\r\n  #product = null;\r\n\r\n\r\n  //================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.innerHTML = _p_product_detail_html__WEBPACK_IMPORTED_MODULE_2__[\"default\"];\r\n    //-----------------------------------------\r\n    const textCharcode = args.target.querySelector('#textCharcode');\r\n    const textName = args.target.querySelector('#textName');\r\n    const buttonSave = args.target.querySelector('#buttonSave');\r\n    const alertMessage = args.target.querySelector('#alertMessage');\r\n    const accordionItem2 = args.target.querySelector('#accordionItem2');\r\n    const accordionItem3 = args.target.querySelector('#accordionItem3');\r\n    //----------\r\n    // Stock\r\n    const collapseTwo = args.target.querySelector('#collapseTwo');\r\n    const buttonStockPlus = args.target.querySelector('#buttonStockPlus');\r\n    const buttonStockMinus = args.target.querySelector('#buttonStockMinus');\r\n    //----------\r\n    // Filedata\r\n    const collapseThree = args.target.querySelector('#collapseThree');\r\n    const rowFiledata = args.target.querySelector('#rowFiledata');\r\n    const fileFiledata = args.target.querySelector('#fileFiledata');\r\n    // const containerFiledata = args.target.querySelector('#containerFiledata');\r\n    \r\n    // if (!this.#product.stockList) {\r\n      this.#product = { stockList: [] };\r\n    // }\r\n\r\n    // const dialogueStock = new dStock({\r\n    //   target: args.target,\r\n    //   app: args.app,\r\n    //   saveClick: () => {\r\n    //     this.#stockListRead(product.productUid);\r\n    //   }\r\n    // });\r\n    const dialogueStock = new _components_dialogues_d_stock__WEBPACK_IMPORTED_MODULE_1__[\"default\"]({\r\n      target: args.target,\r\n      app: args.app,\r\n      addStockToProduct: (stockEntry) => {\r\n        if (!this.#product.stockList) this.#product.stockList = [];\r\n        this.#product.stockList.push({\r\n          stockId: stockEntry.stockId,\r\n          productId: stockEntry.productId,\r\n          amount: stockEntry.amount,\r\n          note: stockEntry.note,\r\n          dateTime: stockEntry.dateTime,\r\n          personId: this.#args.app.user?.userId,\r\n          personNameFull: `${this.#args.app.user?.forename ?? ''} ${this.#args.app.user?.surname ?? ''}`.trim() || '-'        });\r\n        this.#refreshStockTable();\r\n      }\r\n    });\r\n    \r\n    const colCategoryTreeview = args.target.querySelector('#colCategoryTreeview');\r\n\r\n    this.#categoryTree = new _components_category_treeview_category_tree__WEBPACK_IMPORTED_MODULE_3__[\"default\"]({\r\n      target: colCategoryTreeview,\r\n      app: args.app,\r\n      multiSelect: true,\r\n    });\r\n\r\n    //-----------------------------------------\r\n    // events\r\n    //-----------------------------------------\r\n    // buttonSave.addEventListener( 'click', () => {\r\n\r\n    //   alertMessage.classList.remove('alert-success', 'alert-danger');\r\n    //   alertMessage.classList.add('d-none');\r\n\r\n    //   if (!this.#product) {\r\n    //     this.#product = {\r\n    //       productId: null,\r\n    //       productUid: null,\r\n    //       charcode: 'P-' + Date.now()\r\n    //     };\r\n    //   }\r\n\r\n    //   // Set the name afterward\r\n    //   this.#product.name = textName.value ? textName.value : null;\r\n    //   // product.charcode = textCharcode.value ? textCharcode.value : null;\r\n\r\n    //   if (this.#categoryTree.selCats?.length > 0) {\r\n    //     this.#product.productCategoryList = this.#categoryTree.selCats.map(c => ({\r\n    //       categoryId: c.categoryId\r\n    //     }));\r\n    //   }\r\n    //   // product.productUid = Date.now().toString();\r\n    //   if (this.#product.stockList && this.#product.stockList.length > 0) {\r\n    //     this.#product.stockList.forEach(entry => delete entry.personNameFull); // optional cleanup\r\n    //   }\r\n\r\n    //   args.app.apiSet((r) => {\r\n    //     alertMessage.innerText = r.message;\r\n    //     if (r.success) {\r\n    //       this.#product = r.product;\r\n    //       alert(r.message);\r\n    //       window.open('#productdetail?id=' + r.product.productUid, '_self');\r\n    //       setTimeout(() => alertMessage.classList.add('d-none'), 3000);\r\n    //        } else {\r\n    //       alertMessage.classList.add('alert-danger');\r\n    //       alertMessage.classList.remove('d-none');\r\n    //     }\r\n    //   }, (ex) => {\r\n    //       // if('serviceWorker' in navigator && 'SyncManager' in window) {\r\n    //       //   navigator.serviceWorker.ready\r\n    //       //     .then(sw => {\r\n    //       //       if (product.artikelId == null) \r\n    //       //       {\r\n    //       //         writeData('product-create', product)\r\n    //       //           .then(() => {\r\n    //       //             return sw.sync.register('sync-new-product');\r\n    //       //           })\r\n    //       //           .then(() => {\r\n    //       //             writeData('product-cache', product);\r\n    //       //           })\r\n    //       //           .catch(function(err) {\r\n    //       //             console.log(err);\r\n    //       //           }).finally(()=> {\r\n    //       //         });\r\n    //       //       }\r\n    //       //     else {\r\n    //       //         writeData('product-update', product)\r\n    //       //           .then(() => {\r\n    //       //             return sw.sync.register('sync-updated-product');\r\n    //       //           })\r\n    //       //           .then(() => {\r\n    //       //             deleteItemFromData('product-cache', product.productId);\r\n    //       //             writeData('product-cache', product);\r\n    //       //           })\r\n    //       //           .catch(function(err) {\r\n    //       //             console.log(err);\r\n    //       //           }).finally(()=> {\r\n    //       //         });\r\n    //       //       }\r\n    //       //     });\r\n    //       //   }\r\n        \r\n    //     alertMessage.classList.add('alert-danger');\r\n    //     alertMessage.classList.remove('d-none');\r\n    //     alertMessage.innerText = ex;\r\n    //   }, '/product', this.#product.productId, this.#product);\r\n    // });\r\n    buttonSave.addEventListener('click', () => {\r\n      alertMessage.classList.remove('alert-success', 'alert-danger');\r\n      alertMessage.classList.add('d-none');\r\n\r\n      if (!this.#product) {\r\n        this.#product = {\r\n          productId: null,\r\n          stockList: []\r\n        };\r\n      }\r\n\r\n      this.#product.charcode = textCharcode.value || 'P-' + Date.now();\r\n      this.#product.productUid = this.#product.productUid || Date.now().toString();\r\n      this.#product.name = textName.value || null;\r\n\r\n      if (this.#categoryTree.selCats?.length > 0) {\r\n        this.#product.productCategoryList = this.#categoryTree.selCats.map(c => ({\r\n          categoryId: c.categoryId\r\n        }));\r\n      }\r\n\r\n      // // ✅ REMOVE frontend-only field to avoid backend validation error\r\n      // if (this.#product.stockList?.length > 0) {\r\n      //   this.#product.stockList.forEach(entry => {\r\n      //     if ('personNameFull' in entry) {\r\n      //       delete entry.personNameFull;\r\n      //     }\r\n      //   });\r\n      // }\r\n\r\n      if (Array.isArray(this.#product.stockList)) {\r\n        this.#product.stockList = this.#product.stockList\r\n          .filter(entry => entry && typeof entry.amount !== 'undefined') // filter out bad entries\r\n          .map(({ stockId, productId, amount, note, dateTime }) => ({\r\n            stockId,\r\n            productId,\r\n            amount,\r\n            note,\r\n            dateTime\r\n          }));\r\n      }\r\n      // ✅ Send cleaned object\r\n      args.app.apiSet((r) => {\r\n        alertMessage.innerText = r.message;\r\n        if (r.success) {\r\n          this.#product = r.product;\r\n          // sessionStorage.setItem('refreshProductList', 'true');\r\n          alert(r.message);\r\n          window.open('#productdetail?id=' + r.product.productUid, '_self');\r\n          setTimeout(() => alertMessage.classList.add('d-none'), 3000);\r\n        } else {\r\n          alertMessage.classList.add('alert-danger');\r\n          alertMessage.classList.remove('d-none');\r\n        }\r\n      }, (ex) => {\r\n        alertMessage.classList.add('alert-danger');\r\n        alertMessage.classList.remove('d-none');\r\n        alertMessage.innerText = ex;\r\n      }, '/product', this.#product.productId, this.#product);\r\n    });\r\n\r\n\r\n    //-----------------------------------------\r\n    // stock\r\n    //-----------------------------------------\r\n\r\n    buttonStockPlus.addEventListener('click', () => {\r\n      // debugger;\r\n      if (!this.#product) {\r\n        this.#product = {\r\n          productId: null,\r\n          productUid: Date.now().toString(),\r\n          charcode: textCharcode.value,\r\n          name: textName.value,\r\n          productCategoryList: this.#categoryTree.selCats.map(c => ({\r\n            categoryId: c.categoryId\r\n          })),\r\n          stockList: []\r\n        };\r\n      }\r\n      dialogueStock.show({ product: this.#product, modus: 'p' });\r\n    });\r\n\r\n    buttonStockMinus.addEventListener('click', () => {\r\n      if (!this.#product) {\r\n        this.#product = {\r\n          productId: null,\r\n          productUid: Date.now().toString(),\r\n          charcode: textCharcode.value,\r\n          name: textName.value,\r\n          productCategoryList: this.#categoryTree.selCats.map(c => ({\r\n            categoryId: c.categoryId\r\n          })),\r\n          stockList: []\r\n        };\r\n      }\r\n      dialogueStock.show({ product: this.#product, modus: 'n' });\r\n    });\r\n\r\n    //-----------------------------------------\r\n    // filedata\r\n    rowFiledata.addEventListener( 'click', () => {\r\n      fileFiledata.click();\r\n    });\r\n\r\n    rowFiledata.addEventListener( 'dragover', (e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      e.dataTransfer.dropEffect = 'copy';\r\n    });  \r\n\r\n    rowFiledata.addEventListener( 'drop', (e) => {\r\n      e.stopPropagation();\r\n      e.preventDefault();\r\n      if (e.dataTransfer.files && e.dataTransfer.files.length > 0) {\r\n        args.app.apiFiledata((r) => {\r\n          console.log(r);\r\n        }, (ex) => {  \r\n          alert(ex);\r\n        }, product, e.dataTransfer.files);\r\n      }\r\n    });\r\n\r\n    fileFiledata.addEventListener( 'change', (e) => {\r\n      //const imgPic = args.target.querySelector('#imgPic');\r\n      // const reader = new FileReader();\r\n      // reader.onload = (r) => {\r\n      //   imgPic.src = r.target.result;\r\n      // };\r\n      // reader.readAsDataURL(fileFiledata.files[0]);\r\n\r\n      args.app.apiFiledata((r) => {\r\n        console.log(r);\r\n      }, (ex) => {  \r\n        alert(ex);\r\n      }, this.#product, fileFiledata.files);\r\n    });\r\n\r\n    collapseTwo.addEventListener('shown.bs.collapse', (e) => {\r\n      e.stopPropagation();\r\n      // debugger;\r\n      // this.#stockListRead(this.#product.productUid);\r\n      if (this.#product && this.#product.productUid) {\r\n        this.#stockListRead(this.#product.productUid);\r\n      }\r\n    });\r\n\r\n    collapseThree.addEventListener( 'shown.bs.collapse', (e) => {\r\n      e.stopPropagation();\r\n      \r\n      args.app.apiGet((r) => {\r\n\r\n        let html = '<div class=\"row\">';\r\n        let idx = 0;\r\n        for (const fd of r) {\r\n          if (idx > 0 && idx % 3 == 0) {  \r\n            html += '</div><div class=\"row mt-3\">';\r\n          }\r\n\r\n          html += `\r\n            <div class=\"col-12 col-lg-4 mt-3 mt-lg-0\">\r\n              <div class=\"card w-100\">\r\n                <img src=\"${fd.contentUrl}\" class=\"card-img-top\" alt=\"Foto\" />\r\n                <div class=\"card-body\">\r\n                  <h5 class=\"card-title\">${fd.name}</h5>\r\n                </div>\r\n              </div>              \r\n            </div>\r\n          `;\r\n          idx++;\r\n        }\r\n        html += '</div>';\r\n        containerFiledata.innerHTML = html;\r\n      }, (ex) => {\r\n        alert(ex);\r\n      }, '/product/' + this.#product.productUid + '/filedata');\r\n    });\r\n\r\n\r\n\r\n    //-----------------------------------------\r\n    // init\r\n    //-----------------------------------------\r\n    \r\n    // let networkDataReceived = false;\r\n\r\n    // if ('indexedDB' in window) {\r\n    //   readItemFromData('product-cache', args.id)\r\n    //     .then(data => {\r\n    //       if (!networkDataReceived) { // If network data hasn't already updated the display\r\n    //         console.log('selected article From cache', data);\r\n    //         product = data;\r\n    //         textCharcode.value = product.charcode;\r\n    //         textName.value = product.name;\r\n    //       }\r\n    //     });\r\n    // }\r\n\r\n    args.app.apiGet((cl) => {\r\n      // this.#networkDataReveived = false;\r\n      this.#categoryTree.categoryList = cl;\r\n      if (args.id) {\r\n        args.app.apiGet((r) => {\r\n          // networkDataReceived = true;\r\n          this.#product = r;\r\n          textCharcode.value = this.#product.charcode;\r\n          textName.value = this.#product.name;\r\n\r\n          if (this.#product.productCategoryList?.length > 0) {\r\n            const sc = [];\r\n            for (const prodc of this.#product.productCategoryList) {\r\n              const match = cl.find(c => c.categoryId === prodc.categoryId);\r\n              if (match) sc.push(match);\r\n            }\r\n            this.#categoryTree.selCats = sc;\r\n          }\r\n        }, (ex) => {\r\n          alert(ex);\r\n        }, '/product/' + args.id); \r\n      } else {\r\n        const co = new (bootstrap_dist_js_bootstrap_bundle__WEBPACK_IMPORTED_MODULE_0___default().Collapse)('#collapseOne');\r\n        co.show();\r\n        accordionItem2.classList.remove('d-none');\r\n        accordionItem3.classList.remove('d-none');\r\n      }\r\n    }, (ex) => {\r\n      alert(ex);\r\n    }, '/category');\r\n\r\n    //-----------------------------------------\r\n    //-----------------------------------------\r\n  } // constructor\r\n\r\n  //================================================================================================\r\n  // private\r\n  //================================================================================================\r\n  #stockListRead(id)  {\r\n\r\n    const tableStock = this.#args.target.querySelector('#tableStock>tbody');\r\n    const infoTextSum = this.#args.target.querySelector('#infoSum');\r\n\r\n    this.#args.app.apiGet((r) => {\r\n\r\n      let html = '';\r\n      const dateFormat = new Intl.DateTimeFormat(navigator.language, {\r\n        dateStyle: \"medium\",\r\n        timeStyle: \"short\",\r\n        hour12: false\r\n      });\r\n\r\n      let ga = 0;\r\n\r\n      for (const b of r) {\r\n        ga += b.amount;\r\n        html += `\r\n          <tr>\r\n            <td>${dateFormat.format(new Date(b.dateTime))}</td>\r\n            <td>${b.amount}</td>\r\n            <td>${b.note}</td>\r\n            <td>${b.personNameFull}</td>\r\n          </tr>\r\n        `;\r\n      }\r\n      tableStock.innerHTML = html;\r\n      infoTextSum.innerText = ga;\r\n    }, (ex) => {\r\n      alert(ex);\r\n    }, '/product/' + id + '/stock');\r\n  }\r\n\r\n  #refreshStockTable() {\r\n  const tableStock = this.#args.target.querySelector('#tableStock>tbody');\r\n  const infoTextSum = this.#args.target.querySelector('#infoSum');\r\n\r\n  let html = '';\r\n  let ga = 0;\r\n\r\n    const dateFormat = new Intl.DateTimeFormat(navigator.language, {\r\n      dateStyle: \"medium\",\r\n      timeStyle: \"short\",\r\n      hour12: false\r\n    });\r\n\r\n  for (const s of this.#product?.stockList || []) {\r\n    ga += s.amount;\r\n    html += `\r\n      <tr>\r\n        <td>${dateFormat.format(new Date(s.dateTime))}</td>\r\n        <td>${s.amount}</td>\r\n        <td>${s.note}</td>\r\n        <td>${this.#args.app.user?.forename || '-'}</td>\r\n      </tr>\r\n    `;\r\n  }\r\n\r\n  tableStock.innerHTML = html;\r\n  infoTextSum.innerText = ga;\r\n}\r\n  //================================================================================================\r\n  //================================================================================================\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-product-detail.js?");

/***/ }),

/***/ "./src/p-product-list.html":
/*!*********************************!*\
  !*** ./src/p-product-list.html ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n// Module\nvar code = `<div class=\"container-fluid\">\r\n  <div class=\"row border-bottom border-2\">\r\n    <div class=\"col-12\">\r\n      <h1>List of Products</h1>\r\n    </div>\r\n  </div>\r\n\r\n  <div class=\"row mt-2\">\r\n    <div \tclass=\"col-12 col-lg-3\" \r\n\t\t\t\t\tid=\"colCategoryTreeview\">\r\n          Place for Category Treeview\r\n    </div>\r\n    <div class=\"col-12 col-lg-9\">\r\n      <div class=\"table-responsive\">\r\n        <table \tclass=\"table table-striped table-hover table-bordered\" \r\n\t\t\t\t\t\t\t\tid=\"tableProduct\">\r\n          <thead>\r\n            <tr>\r\n              <th style=\"width: 8rem;\">\r\n                <a \thref=\"#productdetail\" \r\n\t\t\t\t\t\t\t\t\t\tclass=\"btn btn-secondary w-100\">\r\n\t\t\t\t\t\t\t\t\t\t<i class=\"bi-plus-lg me-2\"></i>\r\n                    New</a>\r\n              </th>\r\n              <th>Charcode</th>\r\n              <th>Product</th>\r\n              <th>Amount(Sum)</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody></tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>`;\n// Exports\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (code);\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-product-list.html?");

/***/ }),

/***/ "./src/p-product-list.js":
/*!*******************************!*\
  !*** ./src/p-product-list.js ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ pProductList)\n/* harmony export */ });\n/* harmony import */ var _components_category_treeview_category_tree__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./components/category-treeview/category-tree */ \"./src/components/category-treeview/category-tree.js\");\n/* harmony import */ var _p_product_list_html__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./p-product-list.html */ \"./src/p-product-list.html\");\n\r\n\r\n\r\nclass pProductList {\r\n  //================================================================================================\r\n  // private vars\r\n  #args = null;\r\n  #productList = null;\r\n  #categoryTree = null;\r\n  #networkDataReceived = false;\r\n\r\n  //================================================================================================\r\n  constructor(args) {\r\n    this.#args = args;\r\n    args.target.innerHTML = _p_product_list_html__WEBPACK_IMPORTED_MODULE_1__[\"default\"];\r\n    //-----------------------------------------\r\n\r\n    // // ✅ Refresh after returning from product detail\r\n    // if (sessionStorage.getItem('refreshProductList') === 'true') {\r\n    //   sessionStorage.removeItem('refreshProductList');\r\n    //   this.#dataRead(); // re-fetch product list with updated stock\r\n    // }\r\n\r\n    // handle event thrown by service worker, when db is complete \r\n    navigator.serviceWorker.ready.then(() => {\r\n      navigator.serviceWorker.addEventListener('message', function(event) {\r\n        if (event.data.action === 'sync-complete') {\r\n          // Repaint the page here\r\n          console.error('Data from network in event:', event.data.data);\r\n        }\r\n      }.bind(this));\r\n    });\r\n\r\n    const tableProduct = args.target.querySelector('#tableProduct>tbody');\r\n    const colCategoryTreeview = args.target.querySelector('#colCategoryTreeview');\r\n\r\n    this.#categoryTree = new _components_category_treeview_category_tree__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\r\n      target: colCategoryTreeview,\r\n      app: args.app,\r\n      multiSelect: false,\r\n      click: (c) => {\r\n        this.#dataRead(c);\r\n      }\r\n    });\r\n\r\n    //-----------------------------------------\r\n    // events\r\n    //-----------------------------------------\r\n    tableProduct.addEventListener( 'click', (e) => {\r\n      let btn = null;\r\n\r\n      if (e.target.nodeName == 'BUTTON') btn = e.target;\r\n      else if (e.target.nodeName == 'I' && e.target.parentElement.nodeName == 'BUTTON') btn = e.target.parentElement;\r\n\r\n      if (btn) {\r\n\r\n        if (btn.dataset.action == 'del') {\r\n          const prod = this.#productList.filter( o => o.productUid == btn.dataset.id)[0];\r\n          if (confirm('Are you sure u want to delete ' + prod.name + ' ?')) {\r\n            \r\n            // if('serviceWorker' in navigator && 'SyncManager' in window) {\r\n            //   navigator.serviceWorker.ready\r\n            //     .then(sw => {\r\n            //       writeData('product-delete', prod)\r\n            //         .then(() => {\r\n            //           return sw.sync.register('sync-deleted-product');\r\n            //         })\r\n            //         .then(() => {\r\n            //           deleteItemFromData('product-cache', prodcut.productUid);\r\n            //         })\r\n            //         .catch(function(err) {\r\n            //           console.log(err);\r\n            //         }).finally(()=> {\r\n            //         });\r\n            //     });\r\n            // };          \r\n\r\n            args.app.apiDelete((r) => {\r\n              if (r.success) {\r\n                this.#dataRead(this.#categoryTree.selCats?.length > 0 ? this.#categoryTree.selCats[0] : null);\r\n              } else {\r\n                alert(r.message);\r\n              }\r\n            }, (ex) => {\r\n              alert(ex);\r\n            }, '/product/' + prod.productUid);\r\n\r\n\r\n\r\n          }\r\n        }\r\n\r\n      } else {\r\n        window.open('#productdetail?id=' + e.target.parentElement.dataset.productId, '_self');\r\n      }\r\n\r\n\r\n    });\r\n\r\n    //-----------------------------------------\r\n    // init\r\n    //-----------------------------------------\r\n    this.#dataRead();\r\n    //-----------------------------------------\r\n    //-----------------------------------------\r\n  } // constructor\r\n\r\n  //================================================================================================\r\n  #dataRead(category) {\r\n    const tableProduct = this.#args.target.querySelector('#tableProduct>tbody');\r\n    this.#networkDataReceived = false;\r\n    if (category) {\r\n      this.#args.app.apiGet(r => {\r\n        this.#productList = r;\r\n        tableProduct.innerHTML = this.#htmlBuild();\r\n  \r\n      }, (ex) => {\r\n        alert(ex);\r\n      }, '/product?cid=' + category.categoryId);\r\n  \r\n    } else {\r\n\r\n      // if ('indexedDB' in window) {\r\n      //   readAllData('product-cache')\r\n      //     .then(data => {\r\n      //       if (!networkDataReceived) { // If network data hasn't already updated the display\r\n      //         console.log('From cache', data);\r\n      //         this.#productList = data;\r\n      //         tableProduct.innerHTML = this.#htmlBuild();\r\n      //       }\r\n      //     });\r\n      // }\r\n\r\n      this.#args.app.apiGet((r) => {\r\n        // networkDataReceived = true;\r\n        this.#productList = r.productList;\r\n        this.#categoryTree.categoryList = r.categoryList;\r\n        tableProduct.innerHTML = this.#htmlBuild();\r\n  \r\n      }, (ex) => {\r\n        alert(ex);\r\n      }, '/page/productlist');\r\n    }\r\n  }\r\n\r\n  #htmlBuild() {\r\n    let html = '';\r\n    for (const product of this.#productList) {\r\n      html += `\r\n        <tr data-product-id=\"${product.productUid}\">\r\n          <td class=\"text-center\">\r\n            <button type=\"button\" class=\"btn btn-outline-secondary\" data-action=\"del\" data-id=\"${product.productUid}\"><i class=\"bi-trash\"></i></button>\r\n          </td>\r\n          <td class=\"element-clickable pt-3\">${product.charcode}</td>\r\n          <td class=\"element-clickable pt-3\">${product.name}</td>\r\n          <td class=\"element-clickable pt-3\">${product.stock}</td>\r\n        </tr>\r\n      `;\r\n    }\r\n    return html;\r\n  }\r\n\r\n  //================================================================================================\r\n  //================================================================================================\r\n} // class\n\n//# sourceURL=webpack://programmier_bar.web/./src/p-product-list.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/chunk loaded */
/******/ 	(() => {
/******/ 		var deferred = [];
/******/ 		__webpack_require__.O = (result, chunkIds, fn, priority) => {
/******/ 			if(chunkIds) {
/******/ 				priority = priority || 0;
/******/ 				for(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];
/******/ 				deferred[i] = [chunkIds, fn, priority];
/******/ 				return;
/******/ 			}
/******/ 			var notFulfilled = Infinity;
/******/ 			for (var i = 0; i < deferred.length; i++) {
/******/ 				var [chunkIds, fn, priority] = deferred[i];
/******/ 				var fulfilled = true;
/******/ 				for (var j = 0; j < chunkIds.length; j++) {
/******/ 					if ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {
/******/ 						chunkIds.splice(j--, 1);
/******/ 					} else {
/******/ 						fulfilled = false;
/******/ 						if(priority < notFulfilled) notFulfilled = priority;
/******/ 					}
/******/ 				}
/******/ 				if(fulfilled) {
/******/ 					deferred.splice(i--, 1)
/******/ 					var r = fn();
/******/ 					if (r !== undefined) result = r;
/******/ 				}
/******/ 			}
/******/ 			return result;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		__webpack_require__.b = document.baseURI || self.location.href;
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"app": 0
/******/ 		};
/******/ 		
/******/ 		// no chunk on demand loading
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkId] = 0;
/******/ 			}
/******/ 			return __webpack_require__.O(result);
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkprogrammier_bar_web"] = self["webpackChunkprogrammier_bar_web"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module depends on other loaded chunks and execution need to be delayed
/******/ 	var __webpack_exports__ = __webpack_require__.O(undefined, ["vendors"], () => (__webpack_require__("./src/index.js")))
/******/ 	__webpack_exports__ = __webpack_require__.O(__webpack_exports__);
/******/ 	
/******/ })()
;